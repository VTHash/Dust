const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CK-5mcIc.js","assets/index-DYy2l7fi.js","assets/index-DMSQDT0I.css","assets/hashTypedData-BBbdC6Ld.js"])))=>i.map(i=>d[i]);
import{b3 as $e,b4 as xs,b5 as vs,b6 as Es,a4 as M,U as ft,b7 as Cr,Y as Tt,b8 as jn,a3 as Re,b9 as Ft,Z as dt,a7 as $,ba as zt,bb as Dn,aP as xi,bc as vi,bd as Vn,aQ as vn,be as Ei,aR as Ps,bf as Pi,aT as it,ac as _e,aA as Bs,aJ as be,a1 as Ct,b2 as re,bg as Is,a0 as he,a_ as Ne,_ as ce,aM as Bi,aN as xt,bh as Ii,bi as Zn,bj as Wn,a8 as pe,a9 as ve,bk as Ai,bl as Si,bm as Rr,bn as As,bo as tn,bp as Et,bq as Ss,br as ks,bs as ki,bt as Pt,bu as Ni,bv as fe,bw as $i,bx as Ti,aI as se,by as Xe,bz as lt,bA as Rt,bB as Ns,bC as Fi,bD as zi,bE as Kn,b1 as _t,bF as Ci,bG as Ri,bH as Bt,V as It,bI as $s,bJ as _i,bK as _r,bL as Oi,bM as Ts,bN as Li,bO as At,bP as Or,a5 as Ee,a$ as Ye,bQ as Lr,bR as Fs,bS as En,bT as Ui,aY as Pn,X as zs,bU as Gi,bV as Ur,bW as Mi,bX as qi,bY as Bn,bZ as Hi,aZ as ot,a2 as Cs,b_ as Gr,b$ as Rs,c0 as Mr,c1 as ji,c2 as Di,aL as nn,$ as Vi,c3 as Zi,a6 as Wi,aa as Ki,ab as Yi,c4 as Ji,c5 as Xi,c6 as Yn,c7 as Jn,c8 as Qi,c9 as ea,ca as ta,cb as _s,cc as na,cd as ra,ce as sa,cf as oa,cg as ia,ch as aa,ci as Os,cj as Ls,ck as In,cl as Us,cm as qr,cn as ca,co as ua,cp as fa,cq as da}from"./index-DYy2l7fi.js";import{e as ue,h as Gs,a as la}from"./hashTypedData-BBbdC6Ld.js";const ba="1.2.3";let Y=class An extends Error{constructor(t,n={}){const r=n.cause instanceof An?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof An&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${ba}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};const Ms=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function ha(e){return Ms.test(e)}function pa(e){return $e(Ms,e)}const qs=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function ma(e){return qs.test(e)}function ya(e){return $e(qs,e)}const Hs=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function ga(e){return Hs.test(e)}function wa(e){return $e(Hs,e)}const js=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Ot(e){return js.test(e)}function xa(e){return $e(js,e)}const Ds=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function va(e){return Ds.test(e)}function Ea(e){return $e(Ds,e)}const Vs=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Pa(e){return Vs.test(e)}function Ba(e){return $e(Vs,e)}const Ia=/^receive\(\) external payable$/;function Aa(e){return Ia.test(e)}const Hr=new Set(["memory","indexed","storage","calldata"]),Sa=new Set(["indexed"]),Sn=new Set(["calldata","memory","storage"]);class ka extends Y{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Na extends Y{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class $a extends Y{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Ta extends Y{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Fa extends Y{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class za extends Y{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Ca extends Y{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Ra extends Y{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class _a extends Y{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Qe extends Y{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Oa extends Y{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class La extends Y{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Ua extends Y{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Ga extends Y{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Ma(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:`${e}${r}`}const rn=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function kn(e,t={}){if(ga(e))return qa(e,t);if(ma(e))return Ha(e,t);if(ha(e))return ja(e,t);if(va(e))return Da(e,t);if(Pa(e))return Va(e);if(Aa(e))return{type:"receive",stateMutability:"payable"};throw new Oa({signature:e})}function qa(e,t={}){const n=wa(e);if(!n)throw new Qe({signature:e,type:"function"});const r=J(n.parameters),s=[],o=r.length;for(let c=0;c<o;c++)s.push(Pe(r[c],{modifiers:Sn,structs:t,type:"function"}));const i=[];if(n.returns){const c=J(n.returns),a=c.length;for(let u=0;u<a;u++)i.push(Pe(c[u],{modifiers:Sn,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function Ha(e,t={}){const n=ya(e);if(!n)throw new Qe({signature:e,type:"event"});const r=J(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Pe(r[i],{modifiers:Sa,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function ja(e,t={}){const n=pa(e);if(!n)throw new Qe({signature:e,type:"error"});const r=J(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Pe(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function Da(e,t={}){const n=Ea(e);if(!n)throw new Qe({signature:e,type:"constructor"});const r=J(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Pe(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function Va(e){const t=Ba(e);if(!t)throw new Qe({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const Za=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Wa=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Ka=/^u?int$/;function Pe(e,t){const n=Ma(e,t?.type,t?.structs);if(rn.has(n))return rn.get(n);const r=Es.test(e),s=$e(r?Wa:Za,e);if(!s)throw new Fa({param:e});if(s.name&&Ja(s.name))throw new za({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},c=t?.structs??{};let a,u={};if(r){a="tuple";const d=J(s.type),l=[],b=d.length;for(let m=0;m<b;m++)l.push(Pe(d[m],{structs:c}));u={components:l}}else if(s.type in c)a="tuple",u={components:c[s.type]};else if(Ka.test(s.type))a=`${s.type}256`;else if(s.type==="address payable")a="address";else if(a=s.type,t?.type!=="struct"&&!Zs(a))throw new $a({type:a});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new Ca({param:e,type:t?.type,modifier:s.modifier});if(Sn.has(s.modifier)&&!Xa(a,!!s.array))throw new Ra({param:e,type:t?.type,modifier:s.modifier})}const f={type:`${a}${s.array??""}`,...o,...i,...u};return rn.set(n,f),f}function J(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],c=e.slice(o+1);switch(i){case",":return r===0?J(c,[...t,n.trim()]):J(c,t,`${n}${i}`,r);case"(":return J(c,t,`${n}${i}`,r+1);case")":return J(c,t,`${n}${i}`,r-1);default:return J(c,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new Ga({current:n,depth:r});return t.push(n.trim()),t}function Zs(e){return e==="address"||e==="bool"||e==="function"||e==="string"||xs.test(e)||vs.test(e)}const Ya=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Ja(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||xs.test(e)||vs.test(e)||Ya.test(e)}function Xa(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Xn(e){const t={},n=e.length;for(let i=0;i<n;i++){const c=e[i];if(!Ot(c))continue;const a=xa(c);if(!a)throw new Qe({signature:c,type:"struct"});const u=a.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const m=u[l].trim();if(!m)continue;const p=Pe(m,{type:"struct"});f.push(p)}if(!f.length)throw new La({signature:c});t[a.name]=f}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[c,a]=s[i];r[c]=Ws(a,t)}return r}const Qa=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Ws(e=[],t={},n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(Es.test(i.type))r.push(i);else{const a=$e(Qa,i.type);if(!a?.type)throw new _a({abiParameter:i});const{array:u,type:f}=a;if(f in t){if(n.has(f))throw new Ua({type:f});r.push({...i,type:`tuple${u??""}`,components:Ws(t[f],t,new Set([...n,f]))})}else if(Zs(f))r.push(i);else throw new Na({type:f})}}return r}function Ks(e){const t=Xn(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];Ot(o)||n.push(kn(o,t))}return n}function jr(e){let t;if(typeof e=="string")t=kn(e);else{const n=Xn(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!Ot(o)){t=kn(o,n);break}}}if(!t)throw new ka({signature:e});return t}function Dr(e){const t=[];if(typeof e=="string"){const n=J(e),r=n.length;for(let s=0;s<r;s++)t.push(Pe(n[s],{modifiers:Hr}))}else{const n=Xn(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(Ot(o))continue;const i=J(o),c=i.length;for(let a=0;a<c;a++)t.push(Pe(i[a],{modifiers:Hr,structs:n}))}}if(t.length===0)throw new Ta({params:e});return t}function _(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}class e0 extends M{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const Vr="/docs/contract/encodeEventTopics";function bt(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const a=ft({abi:t,name:n});if(!a)throw new Cr(n,{docsPath:Vr});s=a}if(s.type!=="event")throw new Cr(void 0,{docsPath:Vr});const o=Tt(s),i=jn(o);let c=[];if(r&&"inputs"in s){const a=s.inputs?.filter(f=>"indexed"in f&&f.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?a?.map(f=>r[f.name])??[]:[];u.length>0&&(c=a?.map((f,d)=>Array.isArray(u[d])?u[d].map((l,b)=>Zr({param:f,value:u[d][b]})):typeof u[d]<"u"&&u[d]!==null?Zr({param:f,value:u[d]}):null)??[])}return[i,...c]}function Zr({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return Re(Ft(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new e0(e.type);return dt([e],[t])}function Lt(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:o,transport:i})=>{o==="success"&&t===r&&(n[s]=i.request)}),(r=>n[r]||e.request)}async function Ys(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:c,toBlock:a}=t,u=Lt(e,{method:"eth_newFilter"}),f=o?bt({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?$(i):i,toBlock:typeof a=="bigint"?$(a):a,topics:f}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!c,type:"event"}}const t0=3;function Je(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const c=e instanceof zt?e:e instanceof M?e.walk(m=>"data"in m)||e.walk():{},{code:a,data:u,details:f,message:d,shortMessage:l}=c,b=e instanceof Dn?new xi({functionName:o}):[t0,vi.code].includes(a)&&(u||f||d||l)||a===Vn.code&&f==="execution reverted"&&u?new vn({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:c instanceof Ei?f:l??d}):e;return new Ps(b,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}function n0(e){const t=Re(`0x${e.substring(4)}`).substring(26);return Pi(`0x${t}`)}async function r0({hash:e,signature:t}){const n=it(e)?e:_e(e),{secp256k1:r}=await Bs(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>Pf);return{secp256k1:i}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,b=Number(l??d),m=Wr(b);return new r.Signature(be(u),be(f)).addRecoveryBit(m)}const i=it(t)?t:_e(t);if(Ct(i)!==65)throw new Error("invalid signature length");const c=re(`0x${i.slice(130)}`),a=Wr(c);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(a)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Wr(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Js({hash:e,signature:t}){return n0(await r0({hash:e,signature:t}))}function Oe(e,t="hex"){const n=Xs(e),r=Is(new Uint8Array(n.length));return n.encode(r),t==="hex"?he(r.bytes):r.bytes}function Xs(e){return Array.isArray(e)?s0(e.map(t=>Xs(t))):o0(e)}function s0(e){const t=e.reduce((s,o)=>s+o.length,0),n=Qs(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function o0(e){const t=typeof e=="string"?Ne(e):e,n=Qs(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function Qs(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new M("Length is too large.")}function i0(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=Re(ce(["0x05",Oe([t?$(t):"0x",s,n?$(n):"0x"])]));return r==="bytes"?Ne(o):o}async function eo(e){const{authorization:t,signature:n}=e;return Js({hash:i0(t),signature:n??t})}class a0 extends M{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:c,maxFeePerGas:a,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){const b=Bi({from:n?.address,to:d,value:typeof l<"u"&&`${Ii(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof c<"u"&&`${xt(c)} gwei`,maxFeePerGas:typeof a<"u"&&`${xt(a)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${xt(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",b].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function c0(e,{docsPath:t,...n}){const r=(()=>{const s=Zn(e,n);return s instanceof Wn?e:s})();return new a0(r,{docsPath:t,...n})}function Qn(e,t){return({exclude:n,format:r})=>({exclude:n,format:(s,o)=>{const i=t(s,o);if(n)for(const c of n)delete i[c];return{...i,...r(s,o)}},type:e})}function Kr(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Rr({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Rr({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function u0(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=$(t)),n!==void 0&&(i.nonce=$(n)),r!==void 0&&(i.state=Kr(r)),s!==void 0){if(i.state)throw new Si;i.stateDiff=Kr(s)}return i}function er(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!pe(n,{strict:!1}))throw new ve({address:n});if(t[n])throw new Ai({address:n});t[n]=u0(r)}return t}class to extends M{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class tr extends M{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class f0 extends M{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${xt(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class no extends M{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const ro={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Ut(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?re(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?re(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?ro[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=d0(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const Id=Qn("transaction",Ut);function d0(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function nr(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Ut(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Ad=Qn("block",nr);async function ne(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const o=s??!1,i=n!==void 0?$(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!c)throw new no({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||nr)(c,"getBlock")}async function rr(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function l0(e,t){return so(e,t)}async function so(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const o=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof o=="function"){const c=n||await _(e,ne,"getBlock")({}),a=await o({block:c,client:e,request:s});if(a===null)throw new Error;return a}if(typeof o<"u")return o;const i=await e.request({method:"eth_maxPriorityFeePerGas"});return be(i)}catch{const[o,i]=await Promise.all([n?Promise.resolve(n):_(e,ne,"getBlock")({}),_(e,rr,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new tr;const c=i-o.baseFeePerGas;return c<0n?0n:c}}async function b0(e,t){return Nn(e,t)}async function Nn(e,t){const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(i<1)throw new to;const a=10**(i.toString().split(".")[1]?.length??0),u=l=>l*BigInt(Math.ceil(i*a))/BigInt(a),f=n||await _(e,ne,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const l=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(l!==null)return l}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new tr;const l=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await so(e,{block:f,chain:r,request:s}),b=u(f.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??b+l,maxPriorityFeePerGas:l}}return{gasPrice:s?.gasPrice??u(await _(e,rr,"getGasPrice")({}))}}async function oo(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?$(r):n]},{dedupe:!!r});return re(s)}function sr(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>Ne(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>he(o))}function or(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>Ne(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>Ne(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const c=r[i],a=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(c,a)))}return n==="bytes"?o:o.map(i=>he(i))}function h0(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),c=Number(n&o),a=r?4:0,u=r?0:4;e.setUint32(t+a,i,r),e.setUint32(t+u,c,r)}function p0(e,t,n){return e&t^~e&n}function m0(e,t,n){return e&t^e&n^t&n}class y0 extends As{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=tn(this.buffer)}update(t){Et(this),t=Ss(t),ks(t);const{view:n,buffer:r,blockLen:s}=this,o=t.length;for(let i=0;i<o;){const c=Math.min(s-this.pos,o-i);if(c===s){const a=tn(t);for(;s<=o-i;i+=s)this.process(a,i);continue}r.set(t.subarray(i,i+c),this.pos),this.pos+=c,i+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Et(this),ki(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,Pt(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let d=i;d<s;d++)n[d]=0;h0(r,s-8,BigInt(this.length*8),o),this.process(r,0);const c=tn(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=a/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)c.setUint32(4*d,f[d],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:c}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=c,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Se=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),g0=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ke=new Uint32Array(64);class w0 extends y0{constructor(t=32){super(64,t,8,!1),this.A=Se[0]|0,this.B=Se[1]|0,this.C=Se[2]|0,this.D=Se[3]|0,this.E=Se[4]|0,this.F=Se[5]|0,this.G=Se[6]|0,this.H=Se[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:c,H:a}=this;return[t,n,r,s,o,i,c,a]}set(t,n,r,s,o,i,c,a){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=c|0,this.H=a|0}process(t,n){for(let d=0;d<16;d++,n+=4)ke[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const l=ke[d-15],b=ke[d-2],m=fe(l,7)^fe(l,18)^l>>>3,p=fe(b,17)^fe(b,19)^b>>>10;ke[d]=p+ke[d-7]+m+ke[d-16]|0}let{A:r,B:s,C:o,D:i,E:c,F:a,G:u,H:f}=this;for(let d=0;d<64;d++){const l=fe(c,6)^fe(c,11)^fe(c,25),b=f+l+p0(c,a,u)+g0[d]+ke[d]|0,p=(fe(r,2)^fe(r,13)^fe(r,22))+m0(r,s,o)|0;f=u,u=a,a=c,c=i+b|0,i=o,o=s,s=r,r=b+p|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,c=c+this.E|0,a=a+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,o,i,c,a,u,f)}roundClean(){Pt(ke)}destroy(){this.set(0,0,0,0,0,0,0,0),Pt(this.buffer)}}const io=Ni(()=>new w0),x0=io;function v0(e,t){return x0(it(e,{strict:!1})?Ft(e):e)}function E0(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=v0(t);return s.set([n],0),r==="bytes"?s:he(s)}function ao(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const o of t)s.push(E0({commitment:o,to:r,version:n}));return s}const Yr=6,co=32,ir=4096,uo=co*ir,Jr=uo*Yr-1-1*ir*Yr,fo=1;class P0 extends M{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class lo extends M{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class B0 extends M{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class I0 extends M{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${fo}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function A0(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?Ne(e.data):e.data,r=Ct(n);if(!r)throw new lo;if(r>Jr)throw new P0({maxSize:Jr,size:r});const s=[];let o=!0,i=0;for(;o;){const c=Is(new Uint8Array(uo));let a=0;for(;a<ir;){const u=n.slice(i,i+(co-1));if(c.pushByte(0),c.pushBytes(u),u.length<31){c.pushByte(128),o=!1;break}a++,i+=31}s.push(c)}return t==="bytes"?s.map(c=>c.bytes):s.map(c=>he(c.bytes))}function bo(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??A0({data:t,to:r}),o=e.commitments??sr({blobs:s,kzg:n,to:r}),i=e.proofs??or({blobs:s,commitments:o,kzg:n,to:r}),c=[];for(let a=0;a<s.length;a++)c.push({blob:s[a],commitment:o[a],proof:i[a]});return c}function ho(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new $i({transaction:e})}function S0(e,{docsPath:t,...n}){const r=(()=>{const s=Zn(e,n);return s instanceof Wn?e:s})();return new Ti(r,{docsPath:t,...n})}async function ar(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return re(t)}async function po(e,t){const{account:n=e.account,accessList:r,authorizationList:s,chain:o=e.chain,blobVersionedHashes:i,blobs:c,data:a,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:b,nonce:m,nonceManager:p,to:g,type:E,value:B,...w}=t,h=await(async()=>{if(!n||!p||typeof m<"u")return m;const S=se(n),T=o?o.id:await _(e,ar,"getChainId")({});return await p.consume({address:S.address,chainId:T,client:e})})();Xe(t);const y=o?.formatters?.transactionRequest?.format,v=(y||lt)({...Rt(w,{format:y}),account:n?se(n):void 0,accessList:r,authorizationList:s,blobs:c,blobVersionedHashes:i,data:a,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:b,nonce:h,to:g,type:E,value:B},"fillTransaction");try{const S=await e.request({method:"eth_fillTransaction",params:[v]}),P=(o?.formatters?.transaction?.format||Ut)(S.tx);delete P.blockHash,delete P.blockNumber,delete P.r,delete P.s,delete P.transactionIndex,delete P.v,delete P.yParity,P.data=P.input,P.gas&&(P.gas=t.gas??P.gas),P.gasPrice&&(P.gasPrice=t.gasPrice??P.gasPrice),P.maxFeePerBlobGas&&(P.maxFeePerBlobGas=t.maxFeePerBlobGas??P.maxFeePerBlobGas),P.maxFeePerGas&&(P.maxFeePerGas=t.maxFeePerGas??P.maxFeePerGas),P.maxPriorityFeePerGas&&(P.maxPriorityFeePerGas=t.maxPriorityFeePerGas??P.maxPriorityFeePerGas),P.nonce&&(P.nonce=t.nonce??P.nonce);const N=await(async()=>{if(typeof o?.fees?.baseFeeMultiplier=="function"){const A=await _(e,ne,"getBlock")({});return o.fees.baseFeeMultiplier({block:A,client:e,request:t})}return o?.fees?.baseFeeMultiplier??1.2})();if(N<1)throw new to;const F=10**(N.toString().split(".")[1]?.length??0),U=A=>A*BigInt(Math.ceil(N*F))/BigInt(F);return P.maxFeePerGas&&!t.maxFeePerGas&&(P.maxFeePerGas=U(P.maxFeePerGas)),P.gasPrice&&!t.gasPrice&&(P.gasPrice=U(P.gasPrice)),{raw:S.raw,transaction:{from:v.from,...P}}}catch(S){throw S0(S,{...t,chain:e.chain})}}const k0=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Xr=new Map,sn=new Ns(128);async function mo(e,t){let n=t;n.account??=e.account,n.parameters??=k0;const{account:r,chain:s=e.chain,nonceManager:o,parameters:i}=n,c=(()=>{if(typeof s?.prepareTransactionRequest=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s?.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})();let a;async function u(){return a||(typeof n.chainId<"u"?n.chainId:s?s.id:(a=await _(e,ar,"getChainId")({}),a))}const f=r&&se(r);let d=n.nonce;if(i.includes("nonce")&&typeof d>"u"&&f&&o){const h=await u();d=await o.consume({address:f.address,chainId:h,client:e})}c?.fn&&c.runAt?.includes("beforeFillTransaction")&&(n=await c.fn({...n,chain:s},{phase:"beforeFillTransaction"}),d??=n.nonce);const b=((i.includes("blobVersionedHashes")||i.includes("sidecars"))&&n.kzg&&n.blobs||sn.get(e.uid)===!1||!["fees","gas"].some(y=>i.includes(y))?!1:!!(i.includes("chainId")&&typeof n.chainId!="number"||i.includes("nonce")&&typeof d!="number"||i.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||i.includes("gas")&&typeof n.gas!="bigint"))?await _(e,po,"fillTransaction")({...n,nonce:d}).then(h=>{const{chainId:y,from:x,gas:v,gasPrice:S,nonce:T,maxFeePerBlobGas:P,maxFeePerGas:N,maxPriorityFeePerGas:C,type:F,...U}=h.transaction;return sn.set(e.uid,!0),{...n,...x?{from:x}:{},...F?{type:F}:{},...typeof y<"u"?{chainId:y}:{},...typeof v<"u"?{gas:v}:{},...typeof S<"u"?{gasPrice:S}:{},...typeof T<"u"?{nonce:T}:{},...typeof P<"u"?{maxFeePerBlobGas:P}:{},...typeof N<"u"?{maxFeePerGas:N}:{},...typeof C<"u"?{maxPriorityFeePerGas:C}:{},..."nonceKey"in U&&typeof U.nonceKey<"u"?{nonceKey:U.nonceKey}:{}}}).catch(h=>{const y=h;return y.name!=="TransactionExecutionError"||y.walk?.(v=>{const S=v;return S.name==="MethodNotFoundRpcError"||S.name==="MethodNotSupportedRpcError"})&&sn.set(e.uid,!1),n}):n;d??=b.nonce,n={...b,...f?{from:f?.address}:{},...d?{nonce:d}:{}};const{blobs:m,gas:p,kzg:g,type:E}=n;c?.fn&&c.runAt?.includes("beforeFillParameters")&&(n=await c.fn({...n,chain:s},{phase:"beforeFillParameters"}));let B;async function w(){return B||(B=await _(e,ne,"getBlock")({blockTag:"latest"}),B)}if(i.includes("nonce")&&typeof d>"u"&&f&&!o&&(n.nonce=await _(e,oo,"getTransactionCount")({address:f.address,blockTag:"pending"})),(i.includes("blobVersionedHashes")||i.includes("sidecars"))&&m&&g){const h=sr({blobs:m,kzg:g});if(i.includes("blobVersionedHashes")){const y=ao({commitments:h,to:"hex"});n.blobVersionedHashes=y}if(i.includes("sidecars")){const y=or({blobs:m,commitments:h,kzg:g}),x=bo({blobs:m,commitments:h,proofs:y,to:"hex"});n.sidecars=x}}if(i.includes("chainId")&&(n.chainId=await u()),(i.includes("fees")||i.includes("type"))&&typeof E>"u")try{n.type=ho(n)}catch{let h=Xr.get(e.uid);typeof h>"u"&&(h=typeof(await w())?.baseFeePerGas=="bigint",Xr.set(e.uid,h)),n.type=h?"eip1559":"legacy"}if(i.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const h=await w(),{maxFeePerGas:y,maxPriorityFeePerGas:x}=await Nn(e,{block:h,chain:s,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<x)throw new f0({maxPriorityFeePerGas:x});n.maxPriorityFeePerGas=x,n.maxFeePerGas=y}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new tr;if(typeof n.gasPrice>"u"){const h=await w(),{gasPrice:y}=await Nn(e,{block:h,chain:s,request:n,type:"legacy"});n.gasPrice=y}}return i.includes("gas")&&typeof p>"u"&&(n.gas=await _(e,cr,"estimateGas")({...n,account:f,prepare:f?.type==="local"?[]:["blobVersionedHashes"]})),c?.fn&&c.runAt?.includes("afterFillParameters")&&(n=await c.fn({...n,chain:s},{phase:"afterFillParameters"})),Xe(n),delete n.parameters,n}async function cr(e,t){const{account:n=e.account,prepare:r=!0}=t,s=n?se(n):void 0,o=(()=>{if(Array.isArray(r))return r;if(s?.type!=="local")return["blobVersionedHashes"]})();try{const i=await(async()=>{if(t.to)return t.to;if(t.authorizationList&&t.authorizationList.length>0)return await eo({authorization:t.authorizationList[0]}).catch(()=>{throw new M("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:c,authorizationList:a,blobs:u,blobVersionedHashes:f,blockNumber:d,blockTag:l,data:b,gas:m,gasPrice:p,maxFeePerBlobGas:g,maxFeePerGas:E,maxPriorityFeePerGas:B,nonce:w,value:h,stateOverride:y,...x}=r?await mo(e,{...t,parameters:o,to:i}):t;if(m&&t.gas!==m)return m;const S=(typeof d=="bigint"?$(d):void 0)||l,T=er(y);Xe(t);const P=e.chain?.formatters?.transactionRequest?.format,C=(P||lt)({...Rt(x,{format:P}),account:s,accessList:c,authorizationList:a,blobs:u,blobVersionedHashes:f,data:b,gasPrice:p,maxFeePerBlobGas:g,maxFeePerGas:E,maxPriorityFeePerGas:B,nonce:w,to:i,value:h},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:T?[C,S??e.experimental_blockTag??"latest",T]:S?[C,S]:[C]}))}catch(i){throw c0(i,{...t,account:s,chain:e.chain})}}async function N0(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i,...c}=t,a=ue({abi:n,args:s,functionName:o});try{return await _(e,cr,"estimateGas")({data:`${a}${i?i.replace("0x",""):""}`,to:r,...c})}catch(u){const f=c.account?se(c.account):void 0;throw Je(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:f?.address})}}function Gt(e,t){if(!pe(e,{strict:!1}))throw new ve({address:e});if(!pe(t,{strict:!1}))throw new ve({address:t});return e.toLowerCase()===t.toLowerCase()}const Qr="/docs/contract/decodeEventLog";function St(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...c]=s;if(!i)throw new Fi({docsPath:Qr});const a=t.find(p=>p.type==="event"&&i===jn(Tt(p)));if(!(a&&"name"in a)||a.type!=="event")throw new zi(i,{docsPath:Qr});const{name:u,inputs:f}=a,d=f?.some(p=>!("name"in p&&p.name)),l=d?[]:{},b=f.map((p,g)=>[p,g]).filter(([p])=>"indexed"in p&&p.indexed);for(let p=0;p<b.length;p++){const[g,E]=b[p],B=c[p];if(!B)throw new Kn({abiItem:a,param:g});l[d?E:g.name||E]=$0({param:g,value:B})}const m=f.filter(p=>!("indexed"in p&&p.indexed));if(m.length>0){if(n&&n!=="0x")try{const p=_t(m,n);if(p)if(d)for(let g=0;g<f.length;g++)l[g]=l[g]??p.shift();else for(let g=0;g<m.length;g++)l[m[g].name]=p[g]}catch(p){if(o)throw p instanceof Ci||p instanceof Ri?new Bt({abiItem:a,data:n,params:m,size:Ct(n)}):p}else if(o)throw new Bt({abiItem:a,data:"0x",params:m,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function $0({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(_t([e],t)||[])[0]}function ur(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(i=>{const c=t.filter(f=>f.type==="event"&&i.topics[0]===jn(f));if(c.length===0)return null;let a,u;for(const f of c)try{a=St({...i,abi:[f],strict:!0}),u=f;break}catch{}if(!a&&!s){u=c[0];try{a=St({...i,abi:[u],strict:!1})}catch{const f=u.inputs?.some(d=>!("name"in d&&d.name));return{...i,args:f?[]:{},eventName:u.name}}}return!a||!u||o&&!o.includes(a.eventName)||!T0({args:a.args,inputs:u.inputs,matchArgs:n})?null:{...a,...i}}).filter(Boolean)}function T0(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,c){try{return o.type==="address"?Gt(i,c):o.type==="string"||o.type==="bytes"?Re(Ft(i))===c:i===c}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const c=n[i];return c?(Array.isArray(o)?o:[o]).some(u=>s(c,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const c=n.find(u=>u.name===o);return c?(Array.isArray(i)?i:[i]).some(u=>s(c,u,t[o])):!1}):!1}function Be(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,blockTimestamp:e.blockTimestamp?BigInt(e.blockTimestamp):e.blockTimestamp===null?null:void 0,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function fr(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:c,strict:a}={}){const u=a??!1,f=i??(o?[o]:void 0);let d=[];f&&(d=[f.flatMap(p=>bt({abi:[p],eventName:p.name,args:i?void 0:c}))],o&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?$(r):r,toBlock:typeof s=="bigint"?$(s):s}]});const b=l.map(m=>Be(m));return f?ur({abi:f,args:c,logs:b,strict:u}):b}async function yo(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:c,toBlock:a,strict:u}=t,f=i?ft({abi:n,name:i}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return _(e,fr,"getLogs")({address:r,args:s,blockHash:o,event:f,events:d,fromBlock:c,toBlock:a,strict:u})}const on="/docs/contract/decodeFunctionResult";function Me(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const c=ft({abi:t,args:n,name:r});if(!c)throw new It(r,{docsPath:on});o=c}if(o.type!=="function")throw new It(void 0,{docsPath:on});if(!o.outputs)throw new $s(o.name,{docsPath:on});const i=_t(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const dr=BigInt(0),$n=BigInt(1);function ht(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function lr(e){if(!ht(e))throw new Error("Uint8Array expected")}function at(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function wt(e){const t=e.toString(16);return t.length&1?"0"+t:t}function go(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?dr:BigInt("0x"+e)}const wo=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",F0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ct(e){if(lr(e),wo)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=F0[e[n]];return t}const me={_0:48,_9:57,A:65,F:70,a:97,f:102};function es(e){if(e>=me._0&&e<=me._9)return e-me._0;if(e>=me.A&&e<=me.F)return e-(me.A-10);if(e>=me.a&&e<=me.f)return e-(me.a-10)}function kt(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(wo)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=es(e.charCodeAt(o)),c=es(e.charCodeAt(o+1));if(i===void 0||c===void 0){const a=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+a+'" at index '+o)}r[s]=i*16+c}return r}function Ce(e){return go(ct(e))}function xo(e){return lr(e),go(ct(Uint8Array.from(e).reverse()))}function pt(e,t){return kt(e.toString(16).padStart(t*2,"0"))}function vo(e,t){return pt(e,t).reverse()}function ee(e,t,n){let r;if(typeof t=="string")try{r=kt(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(ht(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function Nt(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];lr(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}const an=e=>typeof e=="bigint"&&dr<=e;function br(e,t,n){return an(e)&&an(t)&&an(n)&&t<=e&&e<n}function We(e,t,n,r){if(!br(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function z0(e){let t;for(t=0;e>dr;e>>=$n,t+=1);return t}const Mt=e=>($n<<BigInt(e))-$n,cn=e=>new Uint8Array(e),ts=e=>Uint8Array.from(e);function C0(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=cn(e),s=cn(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},c=(...d)=>n(s,r,...d),a=(d=cn(0))=>{s=c(ts([0]),d),r=c(),d.length!==0&&(s=c(ts([1]),d),r=c())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=c();const b=r.slice();l.push(b),d+=r.length}return Nt(...l)};return(d,l)=>{i(),a(d);let b;for(;!(b=l(u()));)a();return i(),b}}const R0={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||ht(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function qt(e,t,n={}){const r=(s,o,i)=>{const c=R0[o];if(typeof c!="function")throw new Error("invalid validator function");const a=e[s];if(!(i&&a===void 0)&&!c(a,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+a)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}function ns(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const _0="0.1.1";function O0(){return _0}class O extends Error{static setStaticOptions(t){O.prototype.docsOrigin=t.docsOrigin,O.prototype.showVersion=t.showVersion,O.prototype.version=t.version}constructor(t,n={}){const r=(()=>{if(n.cause instanceof O){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof O&&n.cause.docsPath||n.docsPath,o=n.docsOrigin??O.prototype.docsOrigin,i=`${o}${s??""}`,c=!!(n.version??O.prototype.showVersion),a=n.version??O.prototype.version,u=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s||c?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0,c?`Version: ${a}`:void 0]:[]].filter(f=>typeof f=="string").join(`
`);super(u,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=i,this.docsOrigin=o,this.docsPath=s,this.shortMessage=t,this.showVersion=c,this.version=a}walk(t){return Eo(this,t)}}Object.defineProperty(O,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${O0()}`}});O.setStaticOptions(O.defaultStaticOptions);function Eo(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Eo(e.cause,t):t?null:e}function mt(e,t){if(Ve(e)>t)throw new ec({givenSize:Ve(e),maxSize:t})}const ye={zero:48,nine:57,A:65,F:70,a:97,f:102};function rs(e){if(e>=ye.zero&&e<=ye.nine)return e-ye.zero;if(e>=ye.A&&e<=ye.F)return e-(ye.A-10);if(e>=ye.a&&e<=ye.f)return e-(ye.a-10)}function L0(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new tc({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function Po(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function Ht(e,t){if(X(e)>t)throw new ac({givenSize:X(e),maxSize:t})}function U0(e,t){if(typeof t=="number"&&t>0&&t>X(e)-1)throw new Fo({offset:t,position:"start",size:X(e)})}function G0(e,t,n){if(typeof t=="number"&&typeof n=="number"&&X(e)!==n-t)throw new Fo({offset:n,position:"end",size:X(e)})}function Bo(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new cc({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const M0="#__bigint";function Io(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+M0:s,n)}const q0=new TextDecoder,H0=new TextEncoder;function j0(e){return e instanceof Uint8Array?e:typeof e=="string"?Ao(e):D0(e)}function D0(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Ao(e,t={}){const{size:n}=t;let r=e;n&&(Ht(e,n),r=Ue(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let c=0,a=0;c<o;c++){const u=rs(s.charCodeAt(a++)),f=rs(s.charCodeAt(a++));if(u===void 0||f===void 0)throw new O(`Invalid byte sequence ("${s[a-2]}${s[a-1]}" in "${s}").`);i[c]=u<<4|f}return i}function V0(e,t={}){const{size:n}=t,r=H0.encode(e);return typeof n=="number"?(mt(r,n),Z0(r,n)):r}function Z0(e,t){return L0(e,{dir:"right",size:t})}function Ve(e){return e.length}function W0(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function K0(e,t={}){const{size:n}=t;typeof n<"u"&&mt(e,n);const r=ie(e,t);return No(r,t)}function Y0(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(mt(r,n),r=So(r)),r.length>1||r[0]>1)throw new Q0(r);return!!r[0]}function xe(e,t={}){const{size:n}=t;typeof n<"u"&&mt(e,n);const r=ie(e,t);return $o(r,t)}function J0(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(mt(r,n),r=X0(r)),q0.decode(r)}function So(e){return Po(e,{dir:"left"})}function X0(e){return Po(e,{dir:"right"})}class Q0 extends O{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let ec=class extends O{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},tc=class extends O{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const nc=new TextEncoder,rc=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function sc(e,t={}){const{strict:n=!1}=t;if(!e)throw new ss(e);if(typeof e!="string")throw new ss(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new os(e);if(!e.startsWith("0x"))throw new os(e)}function oe(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function oc(e){return e instanceof Uint8Array?ie(e):Array.isArray(e)?ie(new Uint8Array(e)):e}function ko(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Ht(n,t.size),Le(n,t.size)):n}function ie(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=rc[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Ht(r,t.size),Ue(r,t.size)):r}function D(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new To({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const a=`0x${(n&&s<0?BigInt.asUintN(r*8,BigInt(s)):s).toString(16)}`;return r?Le(a,r):a}function hr(e,t={}){return ie(nc.encode(e),t)}function Le(e,t){return Bo(e,{dir:"left",size:t})}function Ue(e,t){return Bo(e,{dir:"right",size:t})}function le(e,t,n,r={}){const{strict:s}=r;U0(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&G0(o,t,n),o}function X(e){return Math.ceil((e.length-2)/2)}function No(e,t={}){const{signed:n}=t;t.size&&Ht(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,i=o>>1n;return r<=i?r:r-o-1n}function $o(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:No(e,t))}function ic(e,t={}){const{strict:n=!1}=t;try{return sc(e,{strict:n}),!0}catch{return!1}}class To extends O{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class ss extends O{constructor(t){super(`Value \`${typeof t=="object"?Io(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class os extends O{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class ac extends O{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Fo extends O{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class cc extends O{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function uc(e){return{address:e.address,amount:D(e.amount),index:D(e.index),validatorIndex:D(e.validatorIndex)}}function zo(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:D(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:D(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:D(e.gasLimit)},...typeof e.number=="bigint"&&{number:D(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:D(e.prevRandao)},...typeof e.time=="bigint"&&{time:D(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(uc)}}}const fc="0x82ad56cb",Co="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",dc="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",lc="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",pr="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class Tn extends M{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Ro extends M{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class jt extends M{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const un="/docs/contract/encodeDeployData";function mr(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new _i({docsPath:un});if(!("inputs"in s))throw new _r({docsPath:un});if(!s.inputs||s.inputs.length===0)throw new _r({docsPath:un});const o=dt(s.inputs,n);return ce([r,o])}function et({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new Tn({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Tn({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}async function Dt(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:c,blobs:a,blockOverrides:u,code:f,data:d,factory:l,factoryData:b,gas:m,gasPrice:p,maxFeePerBlobGas:g,maxFeePerGas:E,maxPriorityFeePerGas:B,nonce:w,to:h,value:y,stateOverride:x,...v}=t,S=n?se(n):void 0;if(f&&(l||b))throw new M("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&h)throw new M("Cannot provide both `code` & `to` as parameters.");const T=f&&d,P=l&&b&&h&&d,N=T||P,C=T?_o({code:f,data:d}):P?pc({data:d,factory:l,factoryData:b,to:h}):d;try{Xe(t);const U=(typeof o=="bigint"?$(o):void 0)||i,A=u?zo(u):void 0,I=er(x),R=e.chain?.formatters?.transactionRequest?.format,z=(R||lt)({...Rt(v,{format:R}),accessList:c,account:S,authorizationList:r,blobs:a,data:C,gas:m,gasPrice:p,maxFeePerBlobGas:g,maxFeePerGas:E,maxPriorityFeePerGas:B,nonce:w,to:N?void 0:h,value:y},"call");if(s&&bc({request:z})&&!I&&!A)try{return await hc(e,{...z,blockNumber:o,blockTag:i})}catch(q){if(!(q instanceof Ro)&&!(q instanceof Tn))throw q}const L=(()=>{const q=[z,U];return I&&A?[...q,I,A]:I?[...q,I]:A?[...q,{},A]:q})(),G=await e.request({method:"eth_call",params:L});return G==="0x"?{data:void 0}:{data:G}}catch(F){const U=mc(F),{offchainLookup:A,offchainLookupSignature:I}=await Bs(async()=>{const{offchainLookup:R,offchainLookupSignature:k}=await import("./index-CK-5mcIc.js").then(z=>z.c);return{offchainLookup:R,offchainLookupSignature:k}},__vite__mapDeps([0,1,2,3]));if(e.ccipRead!==!1&&U?.slice(0,10)===I&&h)return{data:await A(e,{data:U,to:h})};throw N&&U?.slice(0,10)==="0x101bb98d"?new Oi({factory:l}):Ts(F,{...t,account:S,chain:e.chain})}}function bc({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(fc)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function hc(e,t){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:c,to:a}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return et({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Ro})(),d=(typeof o=="bigint"?$(o):void 0)||i,{schedule:l}=Li({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(p){return p.reduce((E,{data:B})=>E+(B.length-2),0)>n*2},fn:async p=>{const g=p.map(w=>({allowFailure:!0,callData:w.data,target:w.to})),E=ue({abi:At,args:[g],functionName:"aggregate3"}),B=await e.request({method:"eth_call",params:[{...u===null?{data:_o({code:pr,data:E})}:{to:u,data:E}},d]});return Me({abi:At,args:[g],functionName:"aggregate3",data:B||"0x"})}}),[{returnData:b,success:m}]=await l({data:c,to:a});if(!m)throw new zt({data:b});return b==="0x"?{data:void 0}:{data:b}}function _o(e){const{code:t,data:n}=e;return mr({abi:Ks(["constructor(bytes, bytes)"]),bytecode:Co,args:[t,n]})}function pc(e){const{data:t,factory:n,factoryData:r,to:s}=e;return mr({abi:Ks(["constructor(address, bytes, address, bytes)"]),bytecode:dc,args:[s,t,n,r]})}function mc(e){if(!(e instanceof M))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function ae(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,c=ue({abi:n,args:s,functionName:o});try{const{data:a}=await _(e,Dt,"call")({...i,data:c,to:r});return Me({abi:n,args:s,functionName:o,data:a||"0x"})}catch(a){throw Je(a,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function yc(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:i,...c}=t,a=c.account?se(c.account):e.account,u=ue({abi:n,args:s,functionName:i});try{const{data:f}=await _(e,Dt,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...c,account:a}),d=Me({abi:n,args:s,functionName:i,data:f||"0x"}),l=n.filter(b=>"name"in b&&b.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:o,functionName:i,...c,account:a}}}catch(f){throw Je(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:a?.address})}}const fn=new Map,is=new Map;let gc=0;function Ie(e,t,n){const r=++gc,s=()=>fn.get(e)||[],o=()=>{const f=s();fn.set(e,f.filter(d=>d.id!==r))},i=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=is.get(e);if(f.length===1&&d){const l=d();l instanceof Promise&&l.catch(()=>{})}o()},c=s();if(fn.set(e,[...c,{id:r,fns:t}]),c&&c.length>0)return i;const a={};for(const f in t)a[f]=((...d)=>{const l=s();if(l.length!==0)for(const b of l)b.fns[f]?.(...d)});const u=n(a);return typeof u=="function"&&is.set(e,u),i}function tt(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let c;t&&(c=await e({unpoll:o}));const a=await n?.(c)??r;await Or(a);const u=async()=>{s&&(await e({unpoll:o}),await Or(r),u())};u()})(),o}const wc=new Map,xc=new Map;function vc(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,wc),r=t(e,xc);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Ec(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=vc(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const Pc=e=>`blockNumber.${e}`;async function yt(e,{cacheTime:t=e.cacheTime}={}){const n=await Ec(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Pc(e.uid),cacheTime:t});return BigInt(n)}async function Vt(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>Be(o));return!("abi"in t)||!t.abi?s:ur({abi:t.abi,logs:s,strict:n})}async function Zt(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Bc(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:c,onError:a,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(typeof f<"u"?f:typeof c=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const g=l??!1,E=Ee(["watchContractEvent",r,s,o,e.uid,i,d,g,c]);return Ie(E,{onLogs:u,onError:a},B=>{let w;c!==void 0&&(w=c-1n);let h,y=!1;const x=tt(async()=>{if(!y){try{h=await _(e,Ys,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:g,fromBlock:c})}catch{}y=!0;return}try{let v;if(h)v=await _(e,Vt,"getFilterChanges")({filter:h});else{const S=await _(e,yt,"getBlockNumber")({});w&&w<S?v=await _(e,yo,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:w+1n,toBlock:S,strict:g}):v=[],w=S}if(v.length===0)return;if(o)B.onLogs(v);else for(const S of v)B.onLogs([S])}catch(v){h&&v instanceof Vn&&(y=!1),B.onError?.(v)}},{emitOnBegin:!0,interval:d});return async()=>{h&&await _(e,Zt,"uninstallFilter")({filter:h}),x()}})})():(()=>{const g=l??!1,E=Ee(["watchContractEvent",r,s,o,e.uid,i,d,g]);let B=!0,w=()=>B=!1;return Ie(E,{onLogs:u,onError:a},h=>((async()=>{try{const y=(()=>{if(e.transport.type==="fallback"){const S=e.transport.transports.find(T=>T.config.type==="webSocket"||T.config.type==="ipc");return S?S.value:e.transport}return e.transport})(),x=i?bt({abi:n,eventName:i,args:s}):[],{unsubscribe:v}=await y.subscribe({params:["logs",{address:r,topics:x}],onData(S){if(!B)return;const T=S.result;try{const{eventName:P,args:N}=St({abi:n,data:T.data,topics:T.topics,strict:l}),C=Be(T,{args:N,eventName:P});h.onLogs([C])}catch(P){let N,C;if(P instanceof Bt||P instanceof Kn){if(l)return;N=P.abiItem.name,C=P.abiItem.inputs?.some(U=>!("name"in U&&U.name))}const F=Be(T,{args:C?[]:{},eventName:N});h.onLogs([F])}},onError(S){h.onError?.(S)}});w=v,B||w()}catch(y){a?.(y)}})(),()=>w()))})()}async function Ic(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}class Ac extends M{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}const Oo={"0x0":"reverted","0x1":"success"};function yr(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>Be(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?re(e.transactionIndex):null,status:e.status?Oo[e.status]:null,type:e.type?ro[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const Nd=Qn("transactionReceipt",yr),Sc="0x5792579257925792579257925792579257925792579257925792579257925792",kc=$(0,{size:32});async function Nc(e,t){async function n(f){if(f.endsWith(Sc.slice(2))){const l=Ye(Lr(f,-64,-32)),b=Lr(f,0,-64).slice(2).match(/.{1,64}/g),m=await Promise.all(b.map(g=>kc.slice(2)!==g?e.request({method:"eth_getTransactionReceipt",params:[`0x${g}`]},{dedupe:!0}):void 0)),p=m.some(g=>g===null)?100:m.every(g=>g?.status==="0x1")?200:m.every(g=>g?.status==="0x0")?500:600;return{atomic:!1,chainId:re(l),receipts:m.filter(Boolean),status:p,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[f]})}const{atomic:r=!1,chainId:s,receipts:o,version:i="2.0.0",...c}=await n(t.id),[a,u]=(()=>{const f=c.status;return f>=100&&f<200?["pending",f]:f>=200&&f<300?["success",f]:f>=300&&f<700?["failure",f]:f==="CONFIRMED"?["success",200]:f==="PENDING"?["pending",100]:[void 0,f]})();return{...c,atomic:r,chainId:s?re(s):void 0,receipts:o?.map(f=>({...f,blockNumber:be(f.blockNumber),gasUsed:be(f.gasUsed),status:Oo[f.status]}))??[],statusCode:u,status:a,version:i}}async function $d(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:p})=>p===200||p>=300,retryCount:o=4,retryDelay:i=({count:p})=>~~(1<<p)*200,timeout:c=6e4,throwOnFailure:a=!1}=t,u=Ee(["waitForCallsStatus",e.uid,n]),{promise:f,resolve:d,reject:l}=Fs();let b;const m=Ie(u,{resolve:d,reject:l},p=>{const g=tt(async()=>{const E=B=>{clearTimeout(b),g(),B(),m()};try{const B=await En(async()=>{const w=await _(e,Nc,"getCallsStatus")({id:n});if(a&&w.status==="failure")throw new Ac(w);return w},{retryCount:o,delay:i});if(!s(B))return;E(()=>p.resolve(B))}catch(B){E(()=>p.reject(B))}},{interval:r,emitOnBegin:!0});return g});return b=c?setTimeout(()=>{m(),clearTimeout(b),l(new $c({id:n}))},c):void 0,await f}class $c extends M{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}function Tc(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:o="Base Client",type:i="base"}=e,c=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),a=n?.blockTime??12e3,u=Math.min(Math.max(Math.floor(a/2),500),4e3),f=e.pollingInterval??u,d=e.cacheTime??f,l=e.account?se(e.account):void 0,{config:b,request:m,value:p}=e.transport({account:l,chain:n,pollingInterval:f}),g={...b,...p},E={account:l,batch:t,cacheTime:d,ccipRead:r,chain:n,key:s,name:o,pollingInterval:f,request:m,transport:g,type:i,uid:Ui(),...c?{experimental_blockTag:c}:{}};function B(w){return h=>{const y=h(w);for(const v in E)delete y[v];const x={...w,...y};return Object.assign(x,{extend:B(x)})}}return Object.assign(E,{extend:B(E)})}function gr(e){if(!(e instanceof M))return!1;const t=e.walk(n=>n instanceof vn);return t instanceof vn?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}function Fc(e){const{abi:t,data:n}=e,r=Pn(n,0,4),s=t.find(o=>o.type==="function"&&r===zs(Tt(o)));if(!s)throw new Gi(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?_t(s.inputs,Pn(n,4)):void 0}}const dn="/docs/contract/encodeErrorResult";function as(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const a=ft({abi:t,args:r,name:n});if(!a)throw new Ur(n,{docsPath:dn});s=a}if(s.type!=="error")throw new Ur(void 0,{docsPath:dn});const o=Tt(s),i=zs(o);let c="0x";if(r&&r.length>0){if(!s.inputs)throw new Mi(s.name,{docsPath:dn});c=dt(s.inputs,r)}return ce([i,c])}const ln="/docs/contract/encodeFunctionResult";function zc(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=ft({abi:t,name:n});if(!i)throw new It(n,{docsPath:ln});s=i}if(s.type!=="function")throw new It(void 0,{docsPath:ln});if(!s.outputs)throw new $s(s.name,{docsPath:ln});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new qi(r)})();return dt(s.outputs,o)}const Wt="x-batch-gateway:true";async function Cc(e){const{data:t,ccipRequest:n}=e,{args:[r]}=Fc({abi:Bn,data:t}),s=[],o=[];return await Promise.all(r.map(async(i,c)=>{try{o[c]=i.urls.includes(Wt)?await Cc({data:i.data,ccipRequest:n}):await n(i),s[c]=!1}catch(a){s[c]=!0,o[c]=Rc(a)}})),zc({abi:Bn,functionName:"query",result:[s,o]})}function Rc(e){return e.name==="HttpRequestError"&&e.status?as({abi:Bn,errorName:"HttpError",args:[e.status,e.shortMessage]}):as({abi:[Hi],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function Lo(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return it(t)?t:null}function Fn(e){let t=new Uint8Array(32).fill(0);if(!e)return he(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Lo(n[r]),o=s?Ft(s):Re(ot(n[r]),"bytes");t=Re(Cs([t,o]),"bytes")}return he(t)}function _c(e){return`[${e.slice(2)}]`}function Oc(e){const t=new Uint8Array(32).fill(0);return e?Lo(e)||Re(ot(e)):he(t)}function wr(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(ot(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=ot(s[o]);i.byteLength>255&&(i=ot(_c(Oc(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Lc(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:c}=t,{chain:a}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return et({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),f=a?.ensTlds;if(f&&!f.some(l=>o.endsWith(l)))return null;const d=s!=null?[Fn(o),BigInt(s)]:[Fn(o)];try{const l=ue({abi:Gr,functionName:"addr",args:d}),b={address:u,abi:Rs,functionName:"resolveWithGateways",args:[_e(wr(o)),l,i??[Wt]],blockNumber:n,blockTag:r},p=await _(e,ae,"readContract")(b);if(p[0]==="0x")return null;const g=Me({abi:Gr,args:d,functionName:"addr",data:p[0]});return g==="0x"||Ye(g)==="0x00"?null:g}catch(l){if(c)throw l;if(gr(l))return null;throw l}}class Uc extends M{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class st extends M{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class xr extends M{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Gc extends M{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Mc=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,qc=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Hc=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,jc=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Dc(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function cs(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Uo({uri:e,gatewayUrls:t}){const n=Hc.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=cs(t?.ipfs,"https://ipfs.io"),s=cs(t?.arweave,"https://arweave.net"),o=e.match(Mc),{protocol:i,subpath:c,target:a,subtarget:u=""}=o?.groups||{},f=i==="ipns:/"||c==="ipns/",d=i==="ipfs:/"||c==="ipfs/"||qc.test(e);if(e.startsWith("http")&&!f&&!d){let b=e;return t?.arweave&&(b=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:b,isOnChain:!1,isEncoded:!1}}if((f||d)&&a)return{uri:`${r}/${f?"ipns":"ipfs"}/${a}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&a)return{uri:`${s}/${a}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(jc,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new xr({uri:e})}function Go(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Uc({data:e});return e.image||e.image_url||e.image_data}async function Vc({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await vr({gatewayUrls:e,uri:Go(n)})}catch{throw new xr({uri:t})}}async function vr({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Uo({uri:t,gatewayUrls:e});if(r||await Dc(n))return n;throw new xr({uri:t})}function Zc(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[c,a]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new st({reason:"Only EIP-155 supported"});if(!i)throw new st({reason:"Chain ID not found"});if(!a)throw new st({reason:"Contract address not found"});if(!s)throw new st({reason:"Token ID not found"});if(!c)throw new st({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:c.toLowerCase(),contractAddress:a,tokenID:s}}async function Wc(e,{nft:t}){if(t.namespace==="erc721")return ae(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return ae(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Gc({namespace:t.namespace})}async function Kc(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Yc(e,{gatewayUrls:t,record:n}):vr({uri:n,gatewayUrls:t})}async function Yc(e,{gatewayUrls:t,record:n}){const r=Zc(n),s=await Wc(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:c}=Uo({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=c?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return vr({uri:Go(f),gatewayUrls:t})}let a=r.tokenID;return r.namespace==="erc1155"&&(a=a.replace("0x","").padStart(64,"0")),Vc({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,a)})}async function Mo(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:c}=t,{chain:a}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return et({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),f=a?.ensTlds;if(f&&!f.some(d=>o.endsWith(d)))return null;try{const d={address:u,abi:Rs,args:[_e(wr(o)),ue({abi:Mr,functionName:"text",args:[Fn(o),s]}),i??[Wt]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},b=await _(e,ae,"readContract")(d);if(b[0]==="0x")return null;const m=Me({abi:Mr,functionName:"text",data:b[0]});return m===""?null:m}catch(d){if(c)throw d;if(gr(d))return null;throw d}}async function Jc(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:c}){const a=await _(e,Mo,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:c,gatewayUrls:o,strict:i});if(!a)return null;try{return await Kc(e,{record:a,gatewayUrls:r})}catch{return null}}async function Xc(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:c}=t,{chain:a}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return et({blockNumber:r,chain:a,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:ji,args:[n,o,i??[Wt]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=_(e,ae,"readContract"),[l]=await d(f);return l||null}catch(f){if(c)throw f;if(gr(f))return null;throw f}}async function Qc(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return et({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),c=o?.ensTlds;if(c&&!c.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${c?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[a]=await _(e,ae,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[_e(wr(s))],blockNumber:n,blockTag:r});return a}async function qo(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:c,gasPrice:a,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:b,...m}=t,p=n?se(n):void 0;try{Xe(t);const E=(typeof r=="bigint"?$(r):void 0)||s,B=e.chain?.formatters?.transactionRequest?.format,h=(B||lt)({...Rt(m,{format:B}),account:p,blobs:o,data:i,gas:c,gasPrice:a,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:b},"createAccessList"),y=await e.request({method:"eth_createAccessList",params:[h,E]});return{accessList:y.accessList,gasUsed:BigInt(y.gasUsed)}}catch(g){throw Ts(g,{...t,account:p,chain:e.chain})}}async function eu(e){const t=Lt(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Ho(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:c}={}){const a=s??(r?[r]:void 0),u=Lt(e,{method:"eth_newFilter"});let f=[];a&&(f=[a.flatMap(b=>bt({abi:[b],eventName:b.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?$(o):o,toBlock:typeof c=="bigint"?$(c):c,...f.length?{topics:f}:{}}]});return{abi:a,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!i,toBlock:c,type:"event"}}async function jo(e){const t=Lt(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function tu(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?$(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function nu(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function ru(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?$(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),re(o)}async function zn(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?$(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}class su extends M{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function ou(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,c,a,u,f,d]=await _(e,ae,"readContract")({abi:iu,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:c,chainId:Number(a),verifyingContract:u,salt:f},extensions:d,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new su({address:n}):i}}const iu=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function au(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function cu(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?$(n):void 0,i=await e.request({method:"eth_feeHistory",params:[$(t),o||r,s]},{dedupe:!!o});return au(i)}async function uu(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>Be(o));return t.abi?ur({abi:t.abi,logs:s,strict:n}):s}function Td(e,t){if(e.length!==t.length)throw new Di({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(Do(s,o))}return ce(n)}function Do(e,t,n=!1){if(e==="address"){const i=t;if(!pe(i))throw new ve({address:i});return nn(i.toLowerCase(),{size:n?32:null})}if(e==="string")return Vi(t);if(e==="bytes")return t;if(e==="bool")return nn(Zi(t),{size:n?32:1});const r=e.match(Wi);if(r){const[i,c,a="256"]=r,u=Number.parseInt(a,10)/8;return $(t,{size:n?32:u,signed:c==="int"})}const s=e.match(Ki);if(s){const[i,c]=s;if(Number.parseInt(c,10)!==(t.length-2)/2)throw new Yi({expectedSize:Number.parseInt(c,10),givenSize:(t.length-2)/2});return nn(t,{dir:"right",size:n?32:null})}const o=e.match(Ji);if(o&&Array.isArray(t)){const[i,c]=o,a=[];for(let u=0;u<t.length;u++)a.push(Do(c,t[u],!0));return a.length===0?"0x":ce(a)}throw new Xi(e)}function fu(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!pe(s))throw new ve({address:s});if(r<0)throw new jt({chainId:r})}Er(e)}function du(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new lo;for(const n of t){const r=Ct(n),s=re(Pn(n,0,1));if(r!==32)throw new B0({hash:n,size:r});if(s!==fo)throw new I0({hash:n,version:s})}}Er(e)}function Er(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new jt({chainId:t});if(s&&!pe(s))throw new ve({address:s});if(r&&r>Yn)throw new Jn({maxFeePerGas:r});if(n&&r&&n>r)throw new Qi({maxFeePerGas:r,maxPriorityFeePerGas:n})}function lu(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(t<=0)throw new jt({chainId:t});if(o&&!pe(o))throw new ve({address:o});if(n||s)throw new M("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Yn)throw new Jn({maxFeePerGas:r})}function bu(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:o}=e;if(o&&!pe(o))throw new ve({address:o});if(typeof t<"u"&&t<=0)throw new jt({chainId:t});if(n||s)throw new M("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Yn)throw new Jn({maxFeePerGas:r})}function Kt(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let o=0;o<s.length;o++)if(s[o].length-2!==64)throw new ea({storageKey:s[o]});if(!pe(r,{strict:!1}))throw new ve({address:r});t.push([r,s])}return t}function Fd(e,t){const n=ho(e);return n==="eip1559"?mu(e,t):n==="eip2930"?yu(e,t):n==="eip4844"?pu(e,t):n==="eip7702"?hu(e,t):gu(e,t)}function hu(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:o,to:i,value:c,maxFeePerGas:a,maxPriorityFeePerGas:u,accessList:f,data:d}=e;fu(e);const l=Kt(f),b=wu(n);return ce(["0x04",Oe([$(r),o?$(o):"0x",u?$(u):"0x",a?$(a):"0x",s?$(s):"0x",i??"0x",c?$(c):"0x",d??"0x",l,b,...gt(e,t)])])}function pu(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerBlobGas:c,maxFeePerGas:a,maxPriorityFeePerGas:u,accessList:f,data:d}=e;du(e);let l=e.blobVersionedHashes,b=e.sidecars;if(e.blobs&&(typeof l>"u"||typeof b>"u")){const w=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(x=>he(x)),h=e.kzg,y=sr({blobs:w,kzg:h});if(typeof l>"u"&&(l=ao({commitments:y})),typeof b>"u"){const x=or({blobs:w,commitments:y,kzg:h});b=bo({blobs:w,commitments:y,proofs:x})}}const m=Kt(f),p=[$(n),s?$(s):"0x",u?$(u):"0x",a?$(a):"0x",r?$(r):"0x",o??"0x",i?$(i):"0x",d??"0x",m,c?$(c):"0x",l??[],...gt(e,t)],g=[],E=[],B=[];if(b)for(let w=0;w<b.length;w++){const{blob:h,commitment:y,proof:x}=b[w];g.push(h),E.push(y),B.push(x)}return ce(["0x03",Oe(b?[p,g,E,B]:p)])}function mu(e,t){const{chainId:n,gas:r,nonce:s,to:o,value:i,maxFeePerGas:c,maxPriorityFeePerGas:a,accessList:u,data:f}=e;Er(e);const d=Kt(u),l=[$(n),s?$(s):"0x",a?$(a):"0x",c?$(c):"0x",r?$(r):"0x",o??"0x",i?$(i):"0x",f??"0x",d,...gt(e,t)];return ce(["0x02",Oe(l)])}function yu(e,t){const{chainId:n,gas:r,data:s,nonce:o,to:i,value:c,accessList:a,gasPrice:u}=e;lu(e);const f=Kt(a),d=[$(n),o?$(o):"0x",u?$(u):"0x",r?$(r):"0x",i??"0x",c?$(c):"0x",s??"0x",f,...gt(e,t)];return ce(["0x01",Oe(d)])}function gu(e,t){const{chainId:n=0,gas:r,data:s,nonce:o,to:i,value:c,gasPrice:a}=e;bu(e);let u=[o?$(o):"0x",a?$(a):"0x",r?$(r):"0x",i??"0x",c?$(c):"0x",s??"0x"];if(t){const f=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const b=27n+(t.v===27n?0n:1n);if(t.v!==b)throw new ta({v:t.v});return b})(),d=Ye(t.r),l=Ye(t.s);u=[...u,$(f),d==="0x00"?"0x":d,l==="0x00"?"0x":l]}else n>0&&(u=[...u,$(n),"0x","0x"]);return Oe(u)}function gt(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const o=Ye(n.r),i=Ye(n.s);return[typeof s=="number"?s?$(1):"0x":r===0n?"0x":r===1n?$(1):r===27n?"0x":$(1),o==="0x00"?"0x":o,i==="0x00"?"0x":i]}function wu(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...o}=n,i=n.address;t.push([r?_e(r):"0x",i,s?_e(s):"0x",...gt({},o)])}return t}async function xu({address:e,authorization:t,signature:n}){return Gt(_s(e),await eo({authorization:t,signature:n}))}function zd(e){const{source:t}=e,n=new Map,r=new Ns(8192),s=new Map,o=({address:i,chainId:c})=>`${i}.${c}`;return{async consume({address:i,chainId:c,client:a}){const u=o({address:i,chainId:c}),f=this.get({address:i,chainId:c,client:a});this.increment({address:i,chainId:c});const d=await f;return await t.set({address:i,chainId:c},d),r.set(u,d),d},async increment({address:i,chainId:c}){const a=o({address:i,chainId:c}),u=n.get(a)??0;n.set(a,u+1)},async get({address:i,chainId:c,client:a}){const u=o({address:i,chainId:c});let f=s.get(u);return f||(f=(async()=>{try{const l=await t.get({address:i,chainId:c,client:a}),b=r.get(u)??0;return b>0&&l<=b?b+1:(r.delete(u),l)}finally{this.reset({address:i,chainId:c})}})(),s.set(u,f)),(n.get(u)??0)+await f},reset({address:i,chainId:c}){const a=o({address:i,chainId:c});n.delete(a),s.delete(a)}}}const vu="0x6492649264926492649264926492649264926492649264926492649264926492";class Eu extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Pu={checksum:new Eu(8192)},bn=Pu.checksum;function Vo(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=na(j0(e));return n==="Bytes"?r:ie(r)}const Bu=/^0x[a-fA-F0-9]{40}$/;function Yt(e,t={}){const{strict:n=!0}=t;if(!Bu.test(e))throw new us({address:e,cause:new Iu});if(n){if(e.toLowerCase()===e)return;if(Zo(e)!==e)throw new us({address:e,cause:new Au})}}function Zo(e){if(bn.has(e))return bn.get(e);Yt(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Vo(V0(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return bn.set(e,s),s}function Cn(e,t={}){const{strict:n=!0}=t??{};try{return Yt(e,{strict:n}),!0}catch{return!1}}class us extends O{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Iu extends O{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Au extends O{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Su=/^(.*)\[([0-9]*)\]$/,ku=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Wo=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,fs=2n**256n-1n;function Ke(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=Ir(t.type);if(o){const[i,c]=o;return $u(e,{...t,type:c},{checksumAddress:r,length:i,staticPosition:s})}if(t.type==="tuple")return Cu(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return Nu(e,{checksum:r});if(t.type==="bool")return Tu(e);if(t.type.startsWith("bytes"))return Fu(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return zu(e,t);if(t.type==="string")return Ru(e,{staticPosition:s});throw new Sr(t.type)}const ds=32,Rn=32;function Nu(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(o=>n?Zo(o):o)(ie(W0(r,-20))),32]}function $u(e,t,n){const{checksumAddress:r,length:s,staticPosition:o}=n;if(!s){const a=xe(e.readBytes(Rn)),u=o+a,f=u+ds;e.setPosition(u);const d=xe(e.readBytes(ds)),l=ut(t);let b=0;const m=[];for(let p=0;p<d;++p){e.setPosition(f+(l?p*32:b));const[g,E]=Ke(e,t,{checksumAddress:r,staticPosition:f});b+=E,m.push(g)}return e.setPosition(o+32),[m,32]}if(ut(t)){const a=xe(e.readBytes(Rn)),u=o+a,f=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[l]=Ke(e,t,{checksumAddress:r,staticPosition:u});f.push(l)}return e.setPosition(o+32),[f,32]}let i=0;const c=[];for(let a=0;a<s;++a){const[u,f]=Ke(e,t,{checksumAddress:r,staticPosition:o+i});i+=f,c.push(u)}return[c,i]}function Tu(e){return[Y0(e.readBytes(32),{size:32}),32]}function Fu(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=xe(e.readBytes(32));e.setPosition(n+i);const c=xe(e.readBytes(32));if(c===0)return e.setPosition(n+32),["0x",32];const a=e.readBytes(c);return e.setPosition(n+32),[ie(a),32]}return[ie(e.readBytes(Number.parseInt(s,10),32)),32]}function zu(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?K0(s,{signed:n}):xe(s,{signed:n}),32]}function Cu(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=t.components.length===0||t.components.some(({name:a})=>!a),i=o?[]:{};let c=0;if(ut(t)){const a=xe(e.readBytes(Rn)),u=s+a;for(let f=0;f<t.components.length;++f){const d=t.components[f];e.setPosition(u+c);const[l,b]=Ke(e,d,{checksumAddress:r,staticPosition:u});c+=b,i[o?f:d?.name]=l}return e.setPosition(s+32),[i,32]}for(let a=0;a<t.components.length;++a){const u=t.components[a],[f,d]=Ke(e,u,{checksumAddress:r,staticPosition:s});i[o?a:u?.name]=f,c+=d}return[i,c]}function Ru(e,{staticPosition:t}){const n=xe(e.readBytes(32)),r=t+n;e.setPosition(r);const s=xe(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=J0(So(o));return e.setPosition(t+32),[i,32]}function _u({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(Pr({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function Pr({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Ir(r.type);if(s){const[o,i]=s;return Lu(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return Hu(n,{checksumAddress:e,parameter:r});if(r.type==="address")return Ou(n,{checksum:e});if(r.type==="bool")return Gu(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=Wo.exec(r.type)??[];return Mu(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return Uu(n,{type:r.type});if(r.type==="string")return qu(n);throw new Sr(r.type)}function Br(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:c}=e[o];i?t+=32:t+=X(c)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:c}=e[o];i?(n.push(D(t+s,{size:32})),r.push(c),s+=X(c)):n.push(c)}return oe(...n,...r)}function Ou(e,t){const{checksum:n=!1}=t;return Yt(e,{strict:n}),{dynamic:!1,encoded:Le(e.toLowerCase())}}function Lu(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new Xu(e);if(!o&&e.length!==r)throw new Ju({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const c=[];for(let a=0;a<e.length;a++){const u=Pr({checksumAddress:n,parameter:s,value:e[a]});u.dynamic&&(i=!0),c.push(u)}if(o||i){const a=Br(c);if(o){const u=D(c.length,{size:32});return{dynamic:!0,encoded:c.length>0?oe(u,a):u}}if(i)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:oe(...c.map(({encoded:a})=>a))}}function Uu(e,{type:t}){const[,n]=t.split("bytes"),r=X(e);if(!n){let s=e;return r%32!==0&&(s=Ue(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:oe(Le(D(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new Yo({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ue(e)}}function Gu(e){if(typeof e!="boolean")throw new O(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Le(ko(e))}}function Mu(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new To({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:D(e,{size:32,signed:t})}}function qu(e){const t=hr(e),n=Math.ceil(X(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ue(le(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:oe(Ue(D(X(t),{size:32})),...r)}}function Hu(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const c=r.components[i],a=Array.isArray(e)?i:c.name,u=Pr({checksumAddress:n,parameter:c,value:e[a]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Br(o):oe(...o.map(({encoded:i})=>i))}}function Ir(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function ut(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(ut);const n=Ir(e.type);return!!(n&&ut({...e,type:n[1]}))}const ju={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Zu({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Vu({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new ls({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new ls({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Du(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(ju);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class ls extends O{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class Vu extends O{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class Zu extends O{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function Wu(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,o=typeof t=="string"?Ao(t):t,i=Du(o);if(Ve(o)===0&&e.length>0)throw new Yu;if(Ve(o)&&Ve(o)<32)throw new Ku({data:typeof t=="string"?t:ie(t),parameters:e,size:Ve(o)});let c=0;const a=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];i.setPosition(c);const[d,l]=Ke(i,f,{checksumAddress:s,staticPosition:0});c+=l,r==="Array"?a.push(d):a[f.name??u]=d}return a}function Ar(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new Jo({expectedLength:e.length,givenLength:t.length});const s=_u({checksumAddress:r,parameters:e,values:t}),o=Br(s);return o.length===0?"0x":o}function _n(e,t){if(e.length!==t.length)throw new Jo({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(_n.encode(s,o))}return oe(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const a=r;return Yt(a),Le(a.toLowerCase(),s?32:0)}if(n==="string")return hr(r);if(n==="bytes")return r;if(n==="bool")return Le(ko(r),s?32:1);const o=n.match(Wo);if(o){const[a,u,f="256"]=o,d=Number.parseInt(f,10)/8;return D(r,{size:s?32:d,signed:u==="int"})}const i=n.match(ku);if(i){const[a,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new Yo({expectedSize:Number.parseInt(u,10),value:r});return Ue(r,s?32:0)}const c=n.match(Su);if(c&&Array.isArray(r)){const[a,u]=c,f=[];for(let d=0;d<r.length;d++)f.push(t(u,r[d],!0));return f.length===0?"0x":oe(...f)}throw new Sr(n)}e.encode=t})(_n||(_n={}));function Ko(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?Dr(e):e}class Ku extends O{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${ra(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Yu extends O{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Ju extends O{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Yo extends O{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${X(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Jo extends O{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Xu extends O{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Sr extends O{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class Xo extends As{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,sa(t);const r=Ss(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),Pt(o)}update(t){return Et(this),this.iHash.update(t),this}digestInto(t){Et(this),ks(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:c}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Qo=(e,t,n)=>new Xo(e,t).update(n).digest();Qo.create=(e,t)=>new Xo(e,t);const K=BigInt(0),V=BigInt(1),ze=BigInt(2),Qu=BigInt(3),ei=BigInt(4),ti=BigInt(5),ni=BigInt(8);function W(e,t){const n=e%t;return n>=K?n:t+n}function Q(e,t,n){let r=e;for(;t-- >K;)r*=r,r%=n;return r}function On(e,t){if(e===K)throw new Error("invert: expected non-zero number");if(t<=K)throw new Error("invert: expected positive modulus, got "+t);let n=W(e,t),r=t,s=K,o=V;for(;n!==K;){const c=r/n,a=r%n,u=s-o*c;r=n,n=a,s=o,o=u}if(r!==V)throw new Error("invert: does not exist");return W(s,t)}function ri(e,t){const n=(e.ORDER+V)/ei,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function ef(e,t){const n=(e.ORDER-ti)/ni,r=e.mul(t,ze),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,ze),s),c=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(c),t))throw new Error("Cannot find square root");return c}function tf(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-V,n=0;for(;t%ze===K;)t/=ze,n++;let r=ze;const s=kr(e);for(;bs(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return ri;let o=s.pow(r,t);const i=(t+V)/ze;return function(a,u){if(a.is0(u))return u;if(bs(a,u)!==1)throw new Error("Cannot find square root");let f=n,d=a.mul(a.ONE,o),l=a.pow(u,t),b=a.pow(u,i);for(;!a.eql(l,a.ONE);){if(a.is0(l))return a.ZERO;let m=1,p=a.sqr(l);for(;!a.eql(p,a.ONE);)if(m++,p=a.sqr(p),m===f)throw new Error("Cannot find square root");const g=V<<BigInt(f-m-1),E=a.pow(d,g);f=m,d=a.sqr(E),l=a.mul(l,d),b=a.mul(b,E)}return b}}function nf(e){return e%ei===Qu?ri:e%ni===ti?ef:tf(e)}const rf=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sf(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=rf.reduce((r,s)=>(r[s]="function",r),t);return qt(e,n)}function of(e,t,n){if(n<K)throw new Error("invalid exponent, negatives unsupported");if(n===K)return e.ONE;if(n===V)return t;let r=e.ONE,s=t;for(;n>K;)n&V&&(r=e.mul(r,s)),s=e.sqr(s),n>>=V;return r}function si(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,c,a)=>e.is0(c)?i:(r[a]=i,e.mul(i,c)),e.ONE),o=e.inv(s);return t.reduceRight((i,c,a)=>e.is0(c)?i:(r[a]=e.mul(i,r[a]),e.mul(i,c)),o),r}function bs(e,t){const n=(e.ORDER-V)/ze,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function oi(e,t){t!==void 0&&oa(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function kr(e,t,n=!1,r={}){if(e<=K)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=oi(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const c=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:Mt(s),ZERO:K,ONE:V,create:a=>W(a,e),isValid:a=>{if(typeof a!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof a);return K<=a&&a<e},is0:a=>a===K,isOdd:a=>(a&V)===V,neg:a=>W(-a,e),eql:(a,u)=>a===u,sqr:a=>W(a*a,e),add:(a,u)=>W(a+u,e),sub:(a,u)=>W(a-u,e),mul:(a,u)=>W(a*u,e),pow:(a,u)=>of(c,a,u),div:(a,u)=>W(a*On(u,e),e),sqrN:a=>a*a,addN:(a,u)=>a+u,subN:(a,u)=>a-u,mulN:(a,u)=>a*u,inv:a=>On(a,e),sqrt:r.sqrt||(a=>(i||(i=nf(e)),i(c,a))),toBytes:a=>n?vo(a,o):pt(a,o),fromBytes:a=>{if(a.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+a.length);return n?xo(a):Ce(a)},invertBatch:a=>si(c,a),cmov:(a,u,f)=>f?u:a});return Object.freeze(c)}function ii(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function ai(e){const t=ii(e);return t+Math.ceil(t/2)}function af(e,t,n=!1){const r=e.length,s=ii(t),o=ai(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?xo(e):Ce(e),c=W(i,t-V)+V;return n?vo(c,s):pt(c,s)}const hs=BigInt(0),Ln=BigInt(1);function hn(e,t){const n=t.negate();return e?n:t}function ci(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function pn(e,t){ci(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=Mt(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function ps(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let c=Number(e&s),a=e>>i;c>r&&(c-=o,a+=Ln);const u=t*r,f=u+Math.abs(c)-1,d=c===0,l=c<0,b=t%2!==0;return{nextN:a,offset:f,isZero:d,isNeg:l,isNegF:b,offsetF:u}}function cf(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function uf(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const mn=new WeakMap,ui=new WeakMap;function yn(e){return ui.get(e)||1}function ff(e,t){return{constTimeNegate:hn,hasPrecomputes(n){return yn(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>hs;)r&Ln&&(s=s.add(o)),o=o.double(),r>>=Ln;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=pn(r,t),i=[];let c=n,a=c;for(let u=0;u<s;u++){a=c,i.push(a);for(let f=1;f<o;f++)a=a.add(c),i.push(a);c=a.double()}return i},wNAF(n,r,s){let o=e.ZERO,i=e.BASE;const c=pn(n,t);for(let a=0;a<c.windows;a++){const{nextN:u,offset:f,isZero:d,isNeg:l,isNegF:b,offsetF:m}=ps(s,a,c);s=u,d?i=i.add(hn(b,r[m])):o=o.add(hn(l,r[f]))}return{p:o,f:i}},wNAFUnsafe(n,r,s,o=e.ZERO){const i=pn(n,t);for(let c=0;c<i.windows&&s!==hs;c++){const{nextN:a,offset:u,isZero:f,isNeg:d}=ps(s,c,i);if(s=a,!f){const l=r[u];o=o.add(d?l.negate():l)}}return o},getPrecomputes(n,r,s){let o=mn.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&mn.set(r,s(o))),o},wNAFCached(n,r,s){const o=yn(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=yn(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){ci(r,t),ui.set(n,r),mn.delete(n)}}}function df(e,t,n,r){cf(n,e),uf(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,c=z0(BigInt(s));let a=1;c>12?a=c-3:c>4?a=c-2:c>0&&(a=2);const u=Mt(a),f=new Array(Number(u)+1).fill(i),d=Math.floor((t.BITS-1)/a)*a;let l=i;for(let b=d;b>=0;b-=a){f.fill(i);for(let p=0;p<o;p++){const g=r[p],E=Number(g>>BigInt(b)&u);f[E]=f[E].add(n[p])}let m=i;for(let p=f.length-1,g=i;p>0;p--)g=g.add(f[p]),m=m.add(g);if(l=l.add(m),b!==0)for(let p=0;p<a;p++)l=l.double()}return l}function fi(e){return sf(e.Fp),qt(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...oi(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function ms(e){e.lowS!==void 0&&at("lowS",e.lowS),e.prehash!==void 0&&at("prehash",e.prehash)}function lf(e){const t=fi(e);qt(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class bf extends Error{constructor(t=""){super(t)}}const ge={Err:bf,_tlv:{encode:(e,t)=>{const{Err:n}=ge;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=wt(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?wt(s.length/2|128):"";return wt(e)+o+s+t},decode(e,t){const{Err:n}=ge;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const a=s&127;if(!a)throw new n("tlv.decode(long): indefinite length not supported");if(a>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+a);if(u.length!==a)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)i=i<<8|f;if(r+=a,i<128)throw new n("tlv.decode(long): not minimal encoding")}const c=t.subarray(r,r+i);if(c.length!==i)throw new n("tlv.decode: wrong value length");return{v:c,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=ge;if(e<we)throw new t("integer: negative integers are not allowed");let n=wt(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=ge;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Ce(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=ge,s=ee("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:c,l:a}=r.decode(2,o),{v:u,l:f}=r.decode(2,a);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=ge,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}};function gn(e,t){return ct(pt(e,t))}const we=BigInt(0),H=BigInt(1);BigInt(2);const wn=BigInt(3),hf=BigInt(4);function pf(e){const t=lf(e),{Fp:n}=t,r=kr(t.n,t.nBitLength),s=t.toBytes||((w,h,y)=>{const x=h.toAffine();return Nt(Uint8Array.from([4]),n.toBytes(x.x),n.toBytes(x.y))}),o=t.fromBytes||(w=>{const h=w.subarray(1),y=n.fromBytes(h.subarray(0,n.BYTES)),x=n.fromBytes(h.subarray(n.BYTES,2*n.BYTES));return{x:y,y:x}});function i(w){const{a:h,b:y}=t,x=n.sqr(w),v=n.mul(x,w);return n.add(n.add(v,n.mul(w,h)),y)}function c(w,h){const y=n.sqr(h),x=i(w);return n.eql(y,x)}if(!c(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const a=n.mul(n.pow(t.a,wn),hf),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(a,u)))throw new Error("bad curve params: a or b");function f(w){return br(w,H,t.n)}function d(w){const{allowedPrivateKeyLengths:h,nByteLength:y,wrapPrivateKey:x,n:v}=t;if(h&&typeof w!="bigint"){if(ht(w)&&(w=ct(w)),typeof w!="string"||!h.includes(w.length))throw new Error("invalid private key");w=w.padStart(y*2,"0")}let S;try{S=typeof w=="bigint"?w:Ce(ee("private key",w,y))}catch{throw new Error("invalid private key, expected hex or "+y+" bytes, got "+typeof w)}return x&&(S=W(S,v)),We("private key",S,H,v),S}function l(w){if(!(w instanceof p))throw new Error("ProjectivePoint expected")}const b=ns((w,h)=>{const{px:y,py:x,pz:v}=w;if(n.eql(v,n.ONE))return{x:y,y:x};const S=w.is0();h==null&&(h=S?n.ONE:n.inv(v));const T=n.mul(y,h),P=n.mul(x,h),N=n.mul(v,h);if(S)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x:T,y:P}}),m=ns(w=>{if(w.is0()){if(t.allowInfinityPoint&&!n.is0(w.py))return;throw new Error("bad point: ZERO")}const{x:h,y}=w.toAffine();if(!n.isValid(h)||!n.isValid(y))throw new Error("bad point: x or y not FE");if(!c(h,y))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(h,y,x){if(h==null||!n.isValid(h))throw new Error("x required");if(y==null||!n.isValid(y)||n.is0(y))throw new Error("y required");if(x==null||!n.isValid(x))throw new Error("z required");this.px=h,this.py=y,this.pz=x,Object.freeze(this)}static fromAffine(h){const{x:y,y:x}=h||{};if(!h||!n.isValid(y)||!n.isValid(x))throw new Error("invalid affine point");if(h instanceof p)throw new Error("projective point not allowed");const v=S=>n.eql(S,n.ZERO);return v(y)&&v(x)?p.ZERO:new p(y,x,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(h){const y=si(n,h.map(x=>x.pz));return h.map((x,v)=>x.toAffine(y[v])).map(p.fromAffine)}static fromHex(h){const y=p.fromAffine(o(ee("pointHex",h)));return y.assertValidity(),y}static fromPrivateKey(h){return p.BASE.multiply(d(h))}static msm(h,y){return df(p,r,h,y)}_setWindowSize(h){B.setWindowSize(this,h)}assertValidity(){m(this)}hasEvenY(){const{y:h}=this.toAffine();if(n.isOdd)return!n.isOdd(h);throw new Error("Field doesn't support isOdd")}equals(h){l(h);const{px:y,py:x,pz:v}=this,{px:S,py:T,pz:P}=h,N=n.eql(n.mul(y,P),n.mul(S,v)),C=n.eql(n.mul(x,P),n.mul(T,v));return N&&C}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:h,b:y}=t,x=n.mul(y,wn),{px:v,py:S,pz:T}=this;let P=n.ZERO,N=n.ZERO,C=n.ZERO,F=n.mul(v,v),U=n.mul(S,S),A=n.mul(T,T),I=n.mul(v,S);return I=n.add(I,I),C=n.mul(v,T),C=n.add(C,C),P=n.mul(h,C),N=n.mul(x,A),N=n.add(P,N),P=n.sub(U,N),N=n.add(U,N),N=n.mul(P,N),P=n.mul(I,P),C=n.mul(x,C),A=n.mul(h,A),I=n.sub(F,A),I=n.mul(h,I),I=n.add(I,C),C=n.add(F,F),F=n.add(C,F),F=n.add(F,A),F=n.mul(F,I),N=n.add(N,F),A=n.mul(S,T),A=n.add(A,A),F=n.mul(A,I),P=n.sub(P,F),C=n.mul(A,U),C=n.add(C,C),C=n.add(C,C),new p(P,N,C)}add(h){l(h);const{px:y,py:x,pz:v}=this,{px:S,py:T,pz:P}=h;let N=n.ZERO,C=n.ZERO,F=n.ZERO;const U=t.a,A=n.mul(t.b,wn);let I=n.mul(y,S),R=n.mul(x,T),k=n.mul(v,P),z=n.add(y,x),L=n.add(S,T);z=n.mul(z,L),L=n.add(I,R),z=n.sub(z,L),L=n.add(y,v);let G=n.add(S,P);return L=n.mul(L,G),G=n.add(I,k),L=n.sub(L,G),G=n.add(x,v),N=n.add(T,P),G=n.mul(G,N),N=n.add(R,k),G=n.sub(G,N),F=n.mul(U,L),N=n.mul(A,k),F=n.add(N,F),N=n.sub(R,F),F=n.add(R,F),C=n.mul(N,F),R=n.add(I,I),R=n.add(R,I),k=n.mul(U,k),L=n.mul(A,L),R=n.add(R,k),k=n.sub(I,k),k=n.mul(U,k),L=n.add(L,k),I=n.mul(R,L),C=n.add(C,I),I=n.mul(G,L),N=n.mul(z,N),N=n.sub(N,I),I=n.mul(z,R),F=n.mul(G,F),F=n.add(F,I),new p(N,C,F)}subtract(h){return this.add(h.negate())}is0(){return this.equals(p.ZERO)}wNAF(h){return B.wNAFCached(this,h,p.normalizeZ)}multiplyUnsafe(h){const{endo:y,n:x}=t;We("scalar",h,we,x);const v=p.ZERO;if(h===we)return v;if(this.is0()||h===H)return this;if(!y||B.hasPrecomputes(this))return B.wNAFCachedUnsafe(this,h,p.normalizeZ);let{k1neg:S,k1:T,k2neg:P,k2:N}=y.splitScalar(h),C=v,F=v,U=this;for(;T>we||N>we;)T&H&&(C=C.add(U)),N&H&&(F=F.add(U)),U=U.double(),T>>=H,N>>=H;return S&&(C=C.negate()),P&&(F=F.negate()),F=new p(n.mul(F.px,y.beta),F.py,F.pz),C.add(F)}multiply(h){const{endo:y,n:x}=t;We("scalar",h,H,x);let v,S;if(y){const{k1neg:T,k1:P,k2neg:N,k2:C}=y.splitScalar(h);let{p:F,f:U}=this.wNAF(P),{p:A,f:I}=this.wNAF(C);F=B.constTimeNegate(T,F),A=B.constTimeNegate(N,A),A=new p(n.mul(A.px,y.beta),A.py,A.pz),v=F.add(A),S=U.add(I)}else{const{p:T,f:P}=this.wNAF(h);v=T,S=P}return p.normalizeZ([v,S])[0]}multiplyAndAddUnsafe(h,y,x){const v=p.BASE,S=(P,N)=>N===we||N===H||!P.equals(v)?P.multiplyUnsafe(N):P.multiply(N),T=S(this,y).add(S(h,x));return T.is0()?void 0:T}toAffine(h){return b(this,h)}isTorsionFree(){const{h,isTorsionFree:y}=t;if(h===H)return!0;if(y)return y(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h,clearCofactor:y}=t;return h===H?this:y?y(p,this):this.multiplyUnsafe(t.h)}toRawBytes(h=!0){return at("isCompressed",h),this.assertValidity(),s(p,this,h)}toHex(h=!0){return at("isCompressed",h),ct(this.toRawBytes(h))}}p.BASE=new p(t.Gx,t.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const{endo:g,nBitLength:E}=t,B=ff(p,g?Math.ceil(E/2):E);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:d,weierstrassEquation:i,isWithinCurveOrder:f}}function mf(e){const t=fi(e);return qt(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function yf(e){const t=mf(e),{Fp:n,n:r,nByteLength:s,nBitLength:o}=t,i=n.BYTES+1,c=2*n.BYTES+1;function a(A){return W(A,r)}function u(A){return On(A,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:b}=pf({...t,toBytes(A,I,R){const k=I.toAffine(),z=n.toBytes(k.x),L=Nt;return at("isCompressed",R),R?L(Uint8Array.from([I.hasEvenY()?2:3]),z):L(Uint8Array.from([4]),z,n.toBytes(k.y))},fromBytes(A){const I=A.length,R=A[0],k=A.subarray(1);if(I===i&&(R===2||R===3)){const z=Ce(k);if(!br(z,H,n.ORDER))throw new Error("Point is not on curve");const L=l(z);let G;try{G=n.sqrt(L)}catch(Z){const j=Z instanceof Error?": "+Z.message:"";throw new Error("Point is not on curve"+j)}const q=(G&H)===H;return(R&1)===1!==q&&(G=n.neg(G)),{x:z,y:G}}else if(I===c&&R===4){const z=n.fromBytes(k.subarray(0,n.BYTES)),L=n.fromBytes(k.subarray(n.BYTES,2*n.BYTES));return{x:z,y:L}}else{const z=i,L=c;throw new Error("invalid Point, expected length of "+z+", or uncompressed "+L+", got "+I)}}});function m(A){const I=r>>H;return A>I}function p(A){return m(A)?a(-A):A}const g=(A,I,R)=>Ce(A.slice(I,R));class E{constructor(I,R,k){We("r",I,H,r),We("s",R,H,r),this.r=I,this.s=R,k!=null&&(this.recovery=k),Object.freeze(this)}static fromCompact(I){const R=s;return I=ee("compactSignature",I,R*2),new E(g(I,0,R),g(I,R,2*R))}static fromDER(I){const{r:R,s:k}=ge.toSig(ee("DER",I));return new E(R,k)}assertValidity(){}addRecoveryBit(I){return new E(this.r,this.s,I)}recoverPublicKey(I){const{r:R,s:k,recovery:z}=this,L=v(ee("msgHash",I));if(z==null||![0,1,2,3].includes(z))throw new Error("recovery id invalid");const G=z===2||z===3?R+t.n:R;if(G>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const q=(z&1)===0?"02":"03",te=f.fromHex(q+gn(G,n.BYTES)),Z=u(G),j=a(-L*Z),qe=a(k*Z),Ae=f.BASE.multiplyAndAddUnsafe(te,j,qe);if(!Ae)throw new Error("point at infinify");return Ae.assertValidity(),Ae}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return kt(this.toDERHex())}toDERHex(){return ge.hexFromSig(this)}toCompactRawBytes(){return kt(this.toCompactHex())}toCompactHex(){const I=s;return gn(this.r,I)+gn(this.s,I)}}const B={isValidPrivateKey(A){try{return d(A),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const A=ai(t.n);return af(t.randomBytes(A),t.n)},precompute(A=8,I=f.BASE){return I._setWindowSize(A),I.multiply(BigInt(3)),I}};function w(A,I=!0){return f.fromPrivateKey(A).toRawBytes(I)}function h(A){if(typeof A=="bigint")return!1;if(A instanceof f)return!0;const R=ee("key",A).length,k=n.BYTES,z=k+1,L=2*k+1;if(!(t.allowedPrivateKeyLengths||s===z))return R===z||R===L}function y(A,I,R=!0){if(h(A)===!0)throw new Error("first arg must be private key");if(h(I)===!1)throw new Error("second arg must be public key");return f.fromHex(I).multiply(d(A)).toRawBytes(R)}const x=t.bits2int||function(A){if(A.length>8192)throw new Error("input is too large");const I=Ce(A),R=A.length*8-o;return R>0?I>>BigInt(R):I},v=t.bits2int_modN||function(A){return a(x(A))},S=Mt(o);function T(A){return We("num < 2^"+o,A,we,S),pt(A,s)}function P(A,I,R=N){if(["recovered","canonical"].some(Te=>Te in R))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:z}=t;let{lowS:L,prehash:G,extraEntropy:q}=R;L==null&&(L=!0),A=ee("msgHash",A),ms(R),G&&(A=ee("prehashed msgHash",k(A)));const te=v(A),Z=d(I),j=[T(Z),T(te)];if(q!=null&&q!==!1){const Te=q===!0?z(n.BYTES):q;j.push(ee("extraEntropy",Te))}const qe=Nt(...j),Ae=te;function Qt(Te){const He=x(Te);if(!b(He))return;const en=u(He),nt=f.BASE.multiply(He).toAffine(),Fe=a(nt.x);if(Fe===we)return;const rt=a(en*a(Ae+Fe*Z));if(rt===we)return;let je=(nt.x===Fe?0:2)|Number(nt.y&H),zr=rt;return L&&m(rt)&&(zr=p(rt),je^=1),new E(Fe,zr,je)}return{seed:qe,k2sig:Qt}}const N={lowS:t.lowS,prehash:!1},C={lowS:t.lowS,prehash:!1};function F(A,I,R=N){const{seed:k,k2sig:z}=P(A,I,R),L=t;return C0(L.hash.outputLen,L.nByteLength,L.hmac)(k,z)}f.BASE._setWindowSize(8);function U(A,I,R,k=C){const z=A;I=ee("msgHash",I),R=ee("publicKey",R);const{lowS:L,prehash:G,format:q}=k;if(ms(k),"strict"in k)throw new Error("options.strict was renamed to lowS");if(q!==void 0&&q!=="compact"&&q!=="der")throw new Error("format must be compact or der");const te=typeof z=="string"||ht(z),Z=!te&&!q&&typeof z=="object"&&z!==null&&typeof z.r=="bigint"&&typeof z.s=="bigint";if(!te&&!Z)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let j,qe;try{if(Z&&(j=new E(z.r,z.s)),te){try{q!=="compact"&&(j=E.fromDER(z))}catch(je){if(!(je instanceof ge.Err))throw je}!j&&q!=="der"&&(j=E.fromCompact(z))}qe=f.fromHex(R)}catch{return!1}if(!j||L&&j.hasHighS())return!1;G&&(I=t.hash(I));const{r:Ae,s:Qt}=j,Te=v(I),He=u(Qt),en=a(Te*He),nt=a(Ae*He),Fe=f.BASE.multiplyAndAddUnsafe(qe,en,nt)?.toAffine();return Fe?a(Fe.x)===Ae:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:y,sign:F,verify:U,ProjectivePoint:f,Signature:E,utils:B}}function gf(e){return{hash:e,hmac:(t,...n)=>Qo(e,t,aa(...n)),randomBytes:ia}}function wf(e,t){const n=r=>yf({...e,...gf(r)});return{...n(t),create:n}}const di=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ys=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),xf=BigInt(0),vf=BigInt(1),Un=BigInt(2),gs=(e,t)=>(e+t/Un)/t;function Ef(e){const t=di,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),c=BigInt(44),a=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=Q(f,n,t)*f%t,l=Q(d,n,t)*f%t,b=Q(l,Un,t)*u%t,m=Q(b,s,t)*b%t,p=Q(m,o,t)*m%t,g=Q(p,c,t)*p%t,E=Q(g,a,t)*g%t,B=Q(E,c,t)*p%t,w=Q(B,n,t)*f%t,h=Q(w,i,t)*m%t,y=Q(h,r,t)*u%t,x=Q(y,Un,t);if(!Gn.eql(Gn.sqr(x),e))throw new Error("Cannot find square root");return x}const Gn=kr(di,void 0,void 0,{sqrt:Ef}),Nr=wf({a:xf,b:BigInt(7),Fp:Gn,n:ys,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ys,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-vf*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),c=gs(o*e,t),a=gs(-r*e,t);let u=W(e-c*n-a*s,t),f=W(-c*r-a*o,t);const d=u>i,l=f>i;if(d&&(u=t-u),l&&(f=t-f),u>i||f>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},io),Pf=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Nr},Symbol.toStringTag,{value:"Module"}));function li(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new xn({signature:e});if(typeof e.s>"u")throw new xn({signature:e});if(n&&typeof e.yParity>"u")throw new xn({signature:e});if(e.r<0n||e.r>fs)throw new $f({value:e.r});if(e.s<0n||e.s>fs)throw new Tf({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Tr({value:e.yParity})}function Bf(e){return bi(ie(e))}function bi(e){if(e.length!==130&&e.length!==132)throw new Nf({signature:e});const t=BigInt(le(e,0,32)),n=BigInt(le(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return $r(s)}catch{throw new Tr({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function If(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return Af(e)}function Af(e){const t=typeof e=="string"?bi(e):e instanceof Uint8Array?Bf(e):typeof e.r=="string"?kf(e):e.v?Sf(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return li(t),t}function Sf(e){return{r:e.r,s:e.s,yParity:$r(e.v)}}function kf(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=$r(n)),typeof r!="number")throw new Tr({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function $r(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new Ff({value:e})}class Nf extends O{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${X(oc(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class xn extends O{constructor({signature:t}){super(`Signature \`${Io(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class $f extends O{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Tf extends O{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Tr extends O{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Ff extends O{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function zf(e,t={}){return typeof e.chainId=="string"?Cf(e):{...e,...t.signature}}function Cf(e){const{address:t,chainId:n,nonce:r}=e,s=If(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const Rf="0x8010801080108010801080108010801080108010801080108010801080108010",_f=Ko("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function hi(e){if(typeof e=="string"){if(le(e,-32)!==Rf)throw new Uf(e)}else li(e.authorization)}function Of(e){hi(e);const t=$o(le(e,-64,-32)),n=le(e,-t-64,-64),r=le(e,0,-t-64),[s,o,i]=Wu(_f,n);return{authorization:zf({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:o}:{}}}function Lf(e){try{return hi(e),!0}catch{return!1}}let Uf=class extends O{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function Rd(e){const{address:t,data:n,signature:r,to:s="hex"}=e,o=ce([dt([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),vu]);return s==="hex"?o:Ne(o)}function Gf(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Mf(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?re(e.nonce):void 0,storageProof:e.storageProof?Gf(e.storageProof):void 0}}async function qf(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?$(n):void 0,c=await e.request({method:"eth_getProof",params:[t,s,i||o]});return Mf(c)}async function Hf(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?$(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function Fr(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o,sender:i,nonce:c}){const a=r||"latest",u=n!==void 0?$(n):void 0;let f=null;if(s?f=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?f=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,$(o)]},{dedupe:!0}):typeof o=="number"?f=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||a,$(o)]},{dedupe:!!u}):i&&typeof c=="number"&&(f=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[i,$(c)]},{dedupe:!0})),!f)throw new Os({blockHash:t,blockNumber:n,blockTag:a,hash:s,index:o});return(e.chain?.formatters?.transaction?.format||Ut)(f,"getTransaction")}async function jf(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([_(e,yt,"getBlockNumber")({}),t?_(e,Fr,"getTransaction")({hash:t}):void 0]),o=n?.blockNumber||s?.blockNumber;return o?r-o+1n:0n}async function vt(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new Ls({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||yr)(n,"getTransactionReceipt")}async function Df(e,t){const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:o,blockOverrides:i,blockTag:c,stateOverride:a}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return et({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),b=[[]];let m=0,p=0;for(let B=0;B<u.length;B++){const{abi:w,address:h,args:y,functionName:x}=u[B];try{const v=ue({abi:w,args:y,functionName:x});p+=(v.length-2)/2,f>0&&p>f&&b[m].length>0&&(m++,p=(v.length-2)/2,b[m]=[]),b[m]=[...b[m],{allowFailure:!0,callData:v,target:h}]}catch(v){const S=Je(v,{abi:w,address:h,args:y,docsPath:"/docs/contract/multicall",functionName:x,sender:n});if(!s)throw S;b[m]=[...b[m],{allowFailure:!0,callData:"0x",target:h}]}}const g=await Promise.allSettled(b.map(B=>_(e,ae,"readContract")({...l===null?{code:pr}:{address:l},abi:At,account:n,args:[B],authorizationList:r,blockNumber:o,blockOverrides:i,blockTag:c,functionName:"aggregate3",stateOverride:a}))),E=[];for(let B=0;B<g.length;B++){const w=g[B];if(w.status==="rejected"){if(!s)throw w.reason;for(let y=0;y<b[B].length;y++)E.push({status:"failure",error:w.reason,result:void 0});continue}const h=w.value;for(let y=0;y<h.length;y++){const{returnData:x,success:v}=h[y],{callData:S}=b[B][y],{abi:T,address:P,functionName:N,args:C}=u[E.length];try{if(S==="0x")throw new Dn;if(!v)throw new zt({data:x});const F=Me({abi:T,args:C,data:x,functionName:N});E.push(s?{result:F,status:"success"}:F)}catch(F){const U=Je(F,{abi:T,address:P,args:C,docsPath:"/docs/contract/multicall",functionName:N});if(!s)throw U;E.push({error:U,result:void 0,status:"failure"})}}}if(E.length!==u.length)throw new M("multicall results mismatch");return E}async function Mn(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:c}=t;try{const a=[];for(const l of s){const b=l.blockOverrides?zo(l.blockOverrides):void 0,m=l.calls.map(g=>{const E=g,B=E.account?se(E.account):void 0,w=E.abi?ue(E):E.data,h={...E,account:B,data:E.dataSuffix?Cs([w||"0x",E.dataSuffix]):w,from:E.from??B?.address};return Xe(h),lt(h)}),p=l.stateOverrides?er(l.stateOverrides):void 0;a.push({blockOverrides:b,calls:m,stateOverrides:p})}const f=(typeof n=="bigint"?$(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:a,returnFullTransactions:o,traceTransfers:i,validation:c},f]})).map((l,b)=>({...nr(l),calls:l.calls.map((m,p)=>{const{abi:g,args:E,functionName:B,to:w}=s[b].calls[p],h=m.error?.data??m.returnData,y=BigInt(m.gasUsed),x=m.logs?.map(P=>Be(P)),v=m.status==="0x1"?"success":"failure",S=g&&v==="success"&&h!=="0x"?Me({abi:g,data:h,functionName:B}):null,T=(()=>{if(v==="success")return;let P;if(m.error?.data==="0x"?P=new Dn:m.error&&(P=new zt(m.error)),!!P)return Je(P,{abi:g??[],address:w??"0x",args:E,functionName:B??"<unknown>"})})();return{data:h,gasUsed:y,logs:x,status:v,...v==="success"?{result:S}:{error:T}}})}))}catch(a){const u=a,f=Zn(u,{});throw f instanceof Wn?u:f}}function qn(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const c=e[i];if(["(",")",","].includes(c)&&(t=!0),c==="("&&r++,c===")"&&r--,!!t){if(r===0){if(c===" "&&["event","function","error",""].includes(s))s="";else if(s+=c,c===")"){o=!0;break}continue}if(c===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=c,n+=c}}if(!o)throw new O("Unable to normalize signature.");return s}function Hn(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Cn(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>Hn(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Hn(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function pi(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return pi(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?Cn(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?Cn(n[r],{strict:!1}):!1)return i}}function mi(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?jr(e):e;return{...r,...n?{hash:Ze(r)}:{}}}function Jt(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=ic(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?yi(u)===le(t,0,4):u.type==="event"?Ze(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new $t({name:t});if(i.length===1)return{...i[0],...s?{hash:Ze(i[0])}:{}};let c;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Ze(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,l)=>{const b="inputs"in u&&u.inputs[l];return b?Hn(d,b):!1})){if(c&&"inputs"in c&&c.inputs){const d=pi(u.inputs,c.inputs,r);if(d)throw new Zf({abiItem:u,type:d[0]},{abiItem:c,type:d[1]})}c=u}}const a=(()=>{if(c)return c;const[u,...f]=i;return{...u,overloads:f}})();if(!a)throw new $t({name:t});return{...a,...s?{hash:Ze(a)}:{}}}function yi(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Jt(n,r)}return e[0]})();return le(Ze(t),0,4)}function Vf(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return Jt(r,s)}return e[0]})(),n=typeof t=="string"?t:In(t);return qn(n)}function Ze(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Jt(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:Vo(hr(Vf(t)))}class Zf extends O{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${qn(In(t.abiItem))}\`, and`,`\`${n.type}\` in \`${qn(In(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class $t extends O{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function Wf(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[o,i]=e;return[Yf(o),i]}return e})(),{bytecode:r,args:s}=n;return oe(r,t.inputs?.length&&s?.length?Ar(t.inputs,s):"0x")}function Kf(e){return mi(e)}function Yf(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new $t({name:"constructor"});return t}function Jf(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,d]=e;return[ws(u,f,{args:d}),d]}const[c,a]=e;return[c,a]})(),{overloads:r}=t,s=r?ws([t,...r],t.name,{args:n}):t,o=Xf(s),i=n.length>0?Ar(s.inputs,n):void 0;return i?oe(o,i):o}function De(e,t={}){return mi(e,t)}function ws(e,t,n){const r=Jt(e,t,n);if(r.type!=="function")throw new $t({name:t,type:"function"});return r}function Xf(e){return yi(e)}const Qf="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",de="0x0000000000000000000000000000000000000000",ed="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function td(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:c,validation:a}=t,u=t.account?se(t.account):void 0;if(i&&!u)throw new M("`account` is required when `traceAssetChanges` is true");const f=u?Wf(Kf("constructor(bytes, bytes)"),{bytecode:Co,args:[ed,Jf(De("function getBalance(address)"),[u.address])]}):void 0,d=i?await Promise.all(t.calls.map(async k=>{if(!k.data&&!k.abi)return;const{accessList:z}=await qo(e,{account:u.address,...k,data:k.abi?ue(k):k.data});return z.map(({address:L,storageKeys:G})=>G.length>0?L:null)})).then(k=>k.flat().filter(Boolean)):[],l=await Mn(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:f}],stateOverrides:o},{calls:d.map((k,z)=>({abi:[De("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:k,from:de,nonce:z})),stateOverrides:[{address:de,nonce:0}]}]:[],{calls:[...s,{}].map(k=>({...k,from:u?.address})),stateOverrides:o},...i?[{calls:[{data:f}]},{calls:d.map((k,z)=>({abi:[De("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:k,from:de,nonce:z})),stateOverrides:[{address:de,nonce:0}]},{calls:d.map((k,z)=>({to:k,abi:[De("function decimals() returns (uint256)")],functionName:"decimals",from:de,nonce:z})),stateOverrides:[{address:de,nonce:0}]},{calls:d.map((k,z)=>({to:k,abi:[De("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:de,nonce:z})),stateOverrides:[{address:de,nonce:0}]},{calls:d.map((k,z)=>({to:k,abi:[De("function symbol() returns (string)")],functionName:"symbol",from:de,nonce:z})),stateOverrides:[{address:de,nonce:0}]}]:[]],traceTransfers:c,validation:a}),b=i?l[2]:l[0],[m,p,,g,E,B,w,h]=i?l:[],{calls:y,...x}=b,v=y.slice(0,-1)??[],S=m?.calls??[],T=p?.calls??[],P=[...S,...T].map(k=>k.status==="success"?be(k.data):null),N=g?.calls??[],C=E?.calls??[],F=[...N,...C].map(k=>k.status==="success"?be(k.data):null),U=(B?.calls??[]).map(k=>k.status==="success"?k.result:null),A=(h?.calls??[]).map(k=>k.status==="success"?k.result:null),I=(w?.calls??[]).map(k=>k.status==="success"?k.result:null),R=[];for(const[k,z]of F.entries()){const L=P[k];if(typeof z!="bigint"||typeof L!="bigint")continue;const G=U[k-1],q=A[k-1],te=I[k-1],Z=k===0?{address:Qf,decimals:18,symbol:"ETH"}:{address:d[k-1],decimals:te||G?Number(G??1):void 0,symbol:q??void 0};R.some(j=>j.token.address===Z.address)||R.push({token:Z,value:{pre:L,post:z,diff:z-L}})}return{assetChanges:R,block:x,results:v}}const gi="0x6492649264926492649264926492649264926492649264926492649264926492";function nd(e){if(le(e,-32)!==gi)throw new od(e)}function rd(e){const{data:t,signature:n,to:r}=e;return oe(Ar(Ko("address, bytes, bytes"),[r,t,n]),gi)}function sd(e){try{return nd(e),!0}catch{return!1}}class od extends O{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function id({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new Nr.Signature(be(e),be(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:Ne(i)}async function Xt(e,t){const{address:n,chain:r=e.chain,hash:s,erc6492VerifierAddress:o=t.universalSignatureVerifierAddress??r?.contracts?.erc6492Verifier?.address,multicallAddress:i=t.multicallAddress??r?.contracts?.multicall3?.address}=t;if(r?.verifyHash)return await r.verifyHash(e,t);const c=(()=>{const a=t.signature;return it(a)?a:typeof a=="object"&&"r"in a&&"s"in a?id(a):he(a)})();try{return Lf(c)?await ad(e,{...t,multicallAddress:i,signature:c}):await cd(e,{...t,verifierAddress:o,signature:c})}catch(a){try{if(Gt(_s(n),await Js({hash:s,signature:c})))return!0}catch{}if(a instanceof Ge)return!1;throw a}}async function ad(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,multicallAddress:i}=t,{authorization:c,data:a,signature:u,to:f}=Of(t.signature);if(await zn(e,{address:n,blockNumber:r,blockTag:s})===ce(["0xef0100",c.address]))return await ud(e,{address:n,blockNumber:r,blockTag:s,hash:o,signature:u});const l={address:c.address,chainId:Number(c.chainId),nonce:Number(c.nonce),r:$(c.r,{size:32}),s:$(c.s,{size:32}),yParity:c.yParity};if(!await xu({address:n,authorization:l}))throw new Ge;const m=await _(e,ae,"readContract")({...i?{address:i}:{code:pr},authorizationList:[l],abi:At,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...a?[{allowFailure:!0,target:f??n,callData:a}]:[],{allowFailure:!0,target:n,callData:ue({abi:Us,functionName:"isValidSignature",args:[o,u]})}]]});if(m[m.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new Ge}async function cd(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,verifierAddress:c,...a}=t,u=await(async()=>!r&&!s||sd(i)?i:rd({data:s,signature:i,to:r}))(),f=c?{to:c,data:ue({abi:qr,functionName:"isValidSig",args:[n,o,u]}),...a}:{data:mr({abi:qr,args:[n,o,u],bytecode:lc}),...a},{data:d}=await _(e,Dt,"call")(f).catch(l=>{throw l instanceof ca?new Ge:l});if(ua(d??"0x0"))return!0;throw new Ge}async function ud(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,signature:i}=t;if((await _(e,ae,"readContract")({address:n,abi:Us,args:[o,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(a=>{throw a instanceof Ps?new Ge:a})).startsWith("0x1626ba7e"))return!0;throw new Ge}class Ge extends Error{}async function fd(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const c=Gs(n);return _(e,Xt,"verifyHash")({address:t,factory:r,factoryData:s,hash:c,signature:o,...i})}async function dd(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:c,types:a,domain:u,...f}=t,d=la({message:i,primaryType:c,types:a,domain:u});return _(e,Xt,"verifyHash")({address:n,factory:r,factoryData:s,hash:d,signature:o,...f})}function wi(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const c=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let a;return c?(()=>{const d=Ee(["watchBlockNumber",e.uid,t,n,i]);return Ie(d,{onBlockNumber:r,onError:s},l=>tt(async()=>{try{const b=await _(e,yt,"getBlockNumber")({cacheTime:0});if(a!==void 0){if(b===a)return;if(b-a>1&&n)for(let m=a+1n;m<b;m++)l.onBlockNumber(m,a),a=m}(a===void 0||b>a)&&(l.onBlockNumber(b,a),a=b)}catch(b){l.onError?.(b)}},{emitOnBegin:t,interval:i}))})():(()=>{const d=Ee(["watchBlockNumber",e.uid,t,n]);return Ie(d,{onBlockNumber:r,onError:s},l=>{let b=!0,m=()=>b=!1;return(async()=>{try{const p=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(B=>B.config.type==="webSocket"||B.config.type==="ipc");return E?E.value:e.transport}return e.transport})(),{unsubscribe:g}=await p.subscribe({params:["newHeads"],onData(E){if(!b)return;const B=be(E.result?.number);l.onBlockNumber(B,a),a=B},onError(E){l.onError?.(E)}});m=g,b||m()}catch(p){s?.(p)}})(),()=>m()})})()}async function ld(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:c=({count:y})=>~~(1<<y)*200,timeout:a=18e4}=t,u=Ee(["waitForTransactionReceipt",e.uid,s]),f=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let d,l,b,m=!1,p,g;const{promise:E,resolve:B,reject:w}=Fs(),h=a?setTimeout(()=>{g?.(),p?.(),w(new fa({hash:s}))},a):void 0;return p=Ie(u,{onReplaced:o,resolve:B,reject:w},async y=>{if(b=await _(e,vt,"getTransactionReceipt")({hash:s}).catch(()=>{}),b&&r<=1){clearTimeout(h),y.resolve(b),p?.();return}g=_(e,wi,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(x){const v=T=>{clearTimeout(h),g?.(),T(),p?.()};let S=x;if(!m)try{if(b){if(r>1&&(!b.blockNumber||S-b.blockNumber+1n<r))return;v(()=>y.resolve(b));return}if(n&&!d&&(m=!0,await En(async()=>{d=await _(e,Fr,"getTransaction")({hash:s}),d.blockNumber&&(S=d.blockNumber)},{delay:c,retryCount:i}),m=!1),b=await _(e,vt,"getTransactionReceipt")({hash:s}),r>1&&(!b.blockNumber||S-b.blockNumber+1n<r))return;v(()=>y.resolve(b))}catch(T){if(T instanceof Os||T instanceof Ls){if(!d){m=!1;return}try{l=d,m=!0;const P=await En(()=>_(e,ne,"getBlock")({blockNumber:S,includeTransactions:!0}),{delay:c,retryCount:i,shouldRetry:({error:F})=>F instanceof no});m=!1;const N=P.transactions.find(({from:F,nonce:U})=>F===l.from&&U===l.nonce);if(!N||(b=await _(e,vt,"getTransactionReceipt")({hash:N.hash}),r>1&&(!b.blockNumber||S-b.blockNumber+1n<r)))return;let C="replaced";N.to===l.to&&N.value===l.value&&N.input===l.input?C="repriced":N.from===N.to&&N.value===0n&&(C="cancelled"),v(()=>{y.onReplaced?.({reason:C,replacedTransaction:l,transaction:N,transactionReceipt:b}),y.resolve(b)})}catch(P){v(()=>y.reject(P))}}else v(()=>y.reject(T))}}})}),E}function bd(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:c,pollingInterval:a=e.pollingInterval}){const u=typeof c<"u"?c:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=i??!1;let d;return u?(()=>{const m=Ee(["watchBlocks",e.uid,t,n,r,f,a]);return Ie(m,{onBlock:s,onError:o},p=>tt(async()=>{try{const g=await _(e,ne,"getBlock")({blockTag:t,includeTransactions:f});if(g.number!==null&&d?.number!=null){if(g.number===d.number)return;if(g.number-d.number>1&&n)for(let E=d?.number+1n;E<g.number;E++){const B=await _(e,ne,"getBlock")({blockNumber:E,includeTransactions:f});p.onBlock(B,d),d=B}}(d?.number==null||t==="pending"&&g?.number==null||g.number!==null&&g.number>d.number)&&(p.onBlock(g,d),d=g)}catch(g){p.onError?.(g)}},{emitOnBegin:r,interval:a}))})():(()=>{let m=!0,p=!0,g=()=>m=!1;return(async()=>{try{r&&_(e,ne,"getBlock")({blockTag:t,includeTransactions:f}).then(w=>{m&&p&&(s(w,void 0),p=!1)}).catch(o);const E=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(h=>h.config.type==="webSocket"||h.config.type==="ipc");return w?w.value:e.transport}return e.transport})(),{unsubscribe:B}=await E.subscribe({params:["newHeads"],async onData(w){if(!m)return;const h=await _(e,ne,"getBlock")({blockNumber:w.result?.number,includeTransactions:f}).catch(()=>{});m&&(s(h,d),p=!1,d=h)},onError(w){o?.(w)}});g=B,m||g()}catch(E){o?.(E)}})(),()=>g()})()}function hd(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:c,onLogs:a,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),b=d??!1;return l?(()=>{const g=Ee(["watchEvent",t,n,r,e.uid,s,f,i]);return Ie(g,{onLogs:a,onError:c},E=>{let B;i!==void 0&&(B=i-1n);let w,h=!1;const y=tt(async()=>{if(!h){try{w=await _(e,Ho,"createEventFilter")({address:t,args:n,event:s,events:o,strict:b,fromBlock:i})}catch{}h=!0;return}try{let x;if(w)x=await _(e,Vt,"getFilterChanges")({filter:w});else{const v=await _(e,yt,"getBlockNumber")({});B&&B!==v?x=await _(e,fr,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:B+1n,toBlock:v}):x=[],B=v}if(x.length===0)return;if(r)E.onLogs(x);else for(const v of x)E.onLogs([v])}catch(x){w&&x instanceof Vn&&(h=!1),E.onError?.(x)}},{emitOnBegin:!0,interval:f});return async()=>{w&&await _(e,Zt,"uninstallFilter")({filter:w}),y()}})})():(()=>{let g=!0,E=()=>g=!1;return(async()=>{try{const B=(()=>{if(e.transport.type==="fallback"){const x=e.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return x?x.value:e.transport}return e.transport})(),w=o??(s?[s]:void 0);let h=[];w&&(h=[w.flatMap(v=>bt({abi:[v],eventName:v.name,args:n}))],s&&(h=h[0]));const{unsubscribe:y}=await B.subscribe({params:["logs",{address:t,topics:h}],onData(x){if(!g)return;const v=x.result;try{const{eventName:S,args:T}=St({abi:w??[],data:v.data,topics:v.topics,strict:b}),P=Be(v,{args:T,eventName:S});a([P])}catch(S){let T,P;if(S instanceof Bt||S instanceof Kn){if(d)return;T=S.abiItem.name,P=S.abiItem.inputs?.some(C=>!("name"in C&&C.name))}const N=Be(v,{args:P?[]:{},eventName:T});a([N])}},onError(x){c?.(x)}});E=y,g||E()}catch(B){c?.(B)}})(),()=>E()})()}function pd(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=Ee(["watchPendingTransactions",e.uid,t,o]);return Ie(u,{onTransactions:r,onError:n},f=>{let d;const l=tt(async()=>{try{if(!d)try{d=await _(e,jo,"createPendingTransactionFilter")({});return}catch(m){throw l(),m}const b=await _(e,Vt,"getFilterChanges")({filter:d});if(b.length===0)return;if(t)f.onTransactions(b);else for(const m of b)f.onTransactions([m])}catch(b){f.onError?.(b)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await _(e,Zt,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const b=l.result;r([b])},onError(l){n?.(l)}});f=d,u||f()}catch(d){n?.(d)}})(),()=>f()})()}function md(e){const{scheme:t,statement:n,...r}=e.match(yd)?.groups??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:c,requestId:a,...u}=e.match(gd)?.groups??{},f=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...c?{notBefore:new Date(c)}:{},...a?{requestId:a}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const yd=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,gd=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function wd(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!pe(r.address,{strict:!1})||t&&!Gt(r.address,t))return!1}catch{return!1}return!0}async function xd(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:c,time:a=new Date,...u}=t,f=md(s);if(!f.address||!wd({address:n,domain:r,message:f,nonce:o,scheme:i,time:a}))return!1;const l=Gs(s);return Xt(e,{address:f.address,hash:l,signature:c,...u})}async function vd(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,$(r)]:[t]},{retryCount:0}),i=(e.chain?.formatters?.transactionReceipt?.format||yr)(s);if(i.status==="reverted"&&n)throw new da({receipt:i});return i}function Ed(e){return{call:t=>Dt(e,t),createAccessList:t=>qo(e,t),createBlockFilter:()=>eu(e),createContractEventFilter:t=>Ys(e,t),createEventFilter:t=>Ho(e,t),createPendingTransactionFilter:()=>jo(e),estimateContractGas:t=>N0(e,t),estimateGas:t=>cr(e,t),getBalance:t=>tu(e,t),getBlobBaseFee:()=>nu(e),getBlock:t=>ne(e,t),getBlockNumber:t=>yt(e,t),getBlockTransactionCount:t=>ru(e,t),getBytecode:t=>zn(e,t),getChainId:()=>ar(e),getCode:t=>zn(e,t),getContractEvents:t=>yo(e,t),getEip712Domain:t=>ou(e,t),getEnsAddress:t=>Lc(e,t),getEnsAvatar:t=>Jc(e,t),getEnsName:t=>Xc(e,t),getEnsResolver:t=>Qc(e,t),getEnsText:t=>Mo(e,t),getFeeHistory:t=>cu(e,t),estimateFeesPerGas:t=>b0(e,t),getFilterChanges:t=>Vt(e,t),getFilterLogs:t=>uu(e,t),getGasPrice:()=>rr(e),getLogs:t=>fr(e,t),getProof:t=>qf(e,t),estimateMaxPriorityFeePerGas:t=>l0(e,t),fillTransaction:t=>po(e,t),getStorageAt:t=>Hf(e,t),getTransaction:t=>Fr(e,t),getTransactionConfirmations:t=>jf(e,t),getTransactionCount:t=>oo(e,t),getTransactionReceipt:t=>vt(e,t),multicall:t=>Df(e,t),prepareTransactionRequest:t=>mo(e,t),readContract:t=>ae(e,t),sendRawTransaction:t=>Ic(e,t),sendRawTransactionSync:t=>vd(e,t),simulate:t=>Mn(e,t),simulateBlocks:t=>Mn(e,t),simulateCalls:t=>td(e,t),simulateContract:t=>yc(e,t),verifyHash:t=>Xt(e,t),verifyMessage:t=>fd(e,t),verifySiweMessage:t=>xd(e,t),verifyTypedData:t=>dd(e,t),uninstallFilter:t=>Zt(e,t),waitForTransactionReceipt:t=>ld(e,t),watchBlocks:t=>bd(e,t),watchBlockNumber:t=>wi(e,t),watchContractEvent:t=>Bc(e,t),watchEvent:t=>hd(e,t),watchPendingTransactions:t=>pd(e,t)}}function _d(e){const{key:t="public",name:n="Public Client"}=e;return Tc({...e,key:t,name:n,type:"publicClient"}).extend(Ed)}function Od(e){const{r:t,s:n}=Nr.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,o]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:$(t,{size:32}),s:$(n,{size:32}),v:s,yParity:o}:{r:$(t,{size:32}),s:$(n,{size:32}),yParity:o}}export{Ac as $,Td as A,Wt as B,Cc as C,Dt as D,Ua as E,Ta as F,_a as G,Ra as H,ka as I,Ca as J,Fa as K,Ga as L,Qe as M,La as N,jr as O,Dr as P,Na as Q,Ed as R,za as S,Qf as T,Oa as U,de as V,$c as W,Co as X,dc as Y,lc as Z,no as _,ar as a,Tn as a0,Ro as a1,jt as a2,st as a3,Gc as a4,xr as a5,a0 as a6,to as a7,tr as a8,f0 as a9,lu as aA,bu as aB,ho as aC,Kt as aD,e0 as aa,St as ab,Me as ac,mr as ad,as as ae,bt as af,zc as ag,ur as ah,sr as ai,or as aj,ao as ak,E0 as al,bo as am,A0 as an,et as ao,Oc as ap,Fn as aq,Je as ar,nr as as,ro as at,v0 as au,Ec as av,Js as aw,r0 as ax,id as ay,Er as az,oo as b,Id as c,Nd as d,Ad as e,Ut as f,_ as g,zd as h,Gt as i,Rd as j,zn as k,b0 as l,er as m,Be as n,yr as o,Ks as p,Ie as q,ae as r,Fd as s,Oe as t,tt as u,Tc as v,_d as w,$d as x,Fc as y,Od as z};
